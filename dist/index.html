
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      :root {
        --bg-color: #121212;
        --container-bg: #1e1e1e;
        --text-color: #e0e0e0;
        --heading-color: #ffffff;
        --subheading-color: #58a6ff;
        --link-color: #58a6ff;
        --border-color: #333333;
        --item-hover: #2a2a2a;
        --shadow: 0 4px 12px rgba(0,0,0,0.2);
        --accent-color: #58a6ff;
        --tooltip-bg: #2a2a2a;
        --tooltip-text: #e0e0e0;
        --table-header-bg: #2a2a2a;
        --table-header-text: #ffffff;
        --table-row-odd: #1e1e1e;
        --table-row-even: #252525;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.5;
        color: var(--text-color);
        background-color: var(--bg-color);
        margin: 0;
        padding: 0;
      }
      
      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 15px;
      }
      
      .card {
        background-color: var(--container-bg);
        border-radius: 8px;
        box-shadow: var(--shadow);
        padding: 16px;
        margin-bottom: 16px;
        transition: all 0.2s ease;
      }
      
      .card:hover {
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      }

      .header-p {
        margin: 0.2em 0;
        font-weight: 500;
        letter-spacing: -0.02em;
        font-size: 14px;
      }

      .subreddit {
        text-align: right;
      }
      
      h2 {
        font-size: 18px;
        font-weight: 600;
        color: var(--heading-color);
        margin-top: 0;
        margin-bottom: 12px;
        padding-bottom: 6px;
        border-bottom: 2px solid var(--accent-color);
      }
      
      h3 {
        font-size: 16px;
        font-weight: 500;
        color: var(--subheading-color);
        margin-bottom: 8px;
      }
      
      a {
        color: var(--link-color);
        text-decoration: none;
        transition: color 0.2s ease;
      }
      
      a:hover {
        color: var(--accent-color);
        text-decoration: underline;
      }
      
      /* Weather Table Styles */
      .weather-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
        border-radius: 6px;
        overflow: hidden;
      }
      
      .weather-table th {
        background-color: var(--table-header-bg);
        color: var(--table-header-text);
        font-weight: 500;
        text-align: left;
        padding: 8px 12px;
        font-size: 14px;
      }
      
      .weather-table td {
        padding: 8px 12px;
        border-bottom: 1px solid var(--border-color);
        font-size: 14px;
      }
      
      .weather-table tr:nth-child(odd) {
        background-color: var(--table-row-odd);
      }
      
      .weather-table tr:nth-child(even) {
        background-color: var(--table-row-even);
      }
      
      .weather-table tr:last-child td {
        border-bottom: none;
      }
      
      .comic {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 12px 0;
      }
      
      .comic-title {
        font-weight: 600;
        margin-bottom: 8px;
        text-align: center;
        font-size: 15px;
      }
      
      .comic img {
        max-width: 600px;
        max-height: auto;
        object-fit: contain;
        border-radius: 6px;
        margin-bottom: 6px;
        cursor: pointer;
      }
      
      .comic-number {
        font-size: 12px;
        color: var(--text-color);
        opacity: 0.7;
        margin-top: 3px;
      }
      
      .item-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .item-list li {
        padding: 8px 10px;
        border-bottom: 1px solid var(--border-color);
        position: relative;
        font-size: 14px;
      }
      
      .item-list li:last-child {
        border-bottom: none;
      }
      
      .item-list li:hover {
        background-color: var(--item-hover);
        border-radius: 4px;
      }
      
      .item-content {
        display: none;
        position: absolute;
        z-index: 10;
        background-color: var(--tooltip-bg);
        color: var(--tooltip-text);
        border-radius: 6px;
        padding: 15px;
        width: 90%;
        max-width: 100%;
        box-shadow: 0 4px 16px rgba(0,0,0,0.3);
        left: 50%;
        transform: translateX(-50%);
        bottom: 100%;
        font-size: 13px;
        line-height: 1.4;
        overflow: auto;
        max-height: 250px;
        border: 4px solid var(--border-color);
      }

      .item-content::-webkit-scrollbar {
        display: none;
      }

      .item-list li:hover .item-content {
        display: block;
      }
      
      .item-list li::before {
        content: "‚Ä¢";
        color: var(--accent-color);
        font-weight: bold;
        display: inline-block;
        width: 1em;
        margin-left: -0.5em;
      }
      
      @media (max-width: 600px) {
        .container {
          padding: 10px;
        }
        
        .card {
          padding: 12px;
          margin-bottom: 12px;
        }
        
        .item-content {
          width: 95%;
          left: 2.5%;
          transform: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
  
      <div class="card">
        <h2>Huginn Daily</h2>
        <p class="header-p">Saturday, November 29, 2025</p>
        <p class="header-p">c35b7a0b-9dd0-4064-913b-daf7511c8f02</p>
      </div>
  
      <div class="card">
        <h2>Weather</h2>
        <table class="weather-table">
          <tr>
            <th>Summary</th>
            <td>‚õÖÔ∏è Drizzle overnight.</td>
          </tr>
          <tr>
            <th>Temperature Range</th>
            <td>16¬∞C to 22¬∞C (60¬∞F to 72¬∞F)</td>
          </tr>
          <tr>
            <th>Feels Like</th>
            <td>Low: 55¬∞F | High: 74¬∞F</td>
          </tr>
          <tr>
            <th>Humidity</th>
            <td>61%</td>
          </tr>
          <tr>
            <th>Wind</th>
            <td>7 km/h (5 mph), Direction: 122.833833344317¬∞</td>
          </tr>
          <tr>
            <th>Precipitation</th>
            <td>Probability: 10%, Type: rain</td>
          </tr>
          <tr>
            <th>Sunrise / Sunset</th>
            <td>üåÖ 06:35 AM / üåá 04:37 PM</td>
          </tr>
          <tr>
            <th>Moon Phase</th>
            <td>Waxing Gibbous (29%)</td>
          </tr>
          <tr>
            <th>Cloud Cover</th>
            <td>50%</td>
          </tr>
          <tr>
            <th>Pressure</th>
            <td>1015.18 hPa</td>
          </tr>
          <tr>
            <th>Dew Point</th>
            <td>51.8¬∞F</td>
          </tr>
          <tr>
            <th>Visibility</th>
            <td>10.0 miles</td>
          </tr>
        </table>
      </div>
  
      <div class="card">
        <h2>XKCD</h2>
  
        <div class="comic">
          <a href="//imgs.xkcd.com/comics/bridge_clearance.png" target="_blank">
            <img src="//imgs.xkcd.com/comics/bridge_clearance.png" alt="Bridge Clearance">
          </a>
        </div>
  
      </div>
  
      <div class="card">
        <h2>Other</h2>
        <ul class="item-list">
  
          <li>
            <a href="https://selfh.st/weekly/2025-11-28/" target="_blank"> Self-Host Weekly #147: Ad-Free </a>
            <div class="item-content">
			  Become a <a href="https://selfh.st/membership">paid subscriber</a> to access the newsletter‚Äôs full-text RSS feed or <a href="https://selfh.st">continue reading on selfh.st</a>.
		  </div>
          </li>
  
        </ul>
      </div>
  
      <div class="card">
        <h2>Reddit</h2>
  
        <h3 class="subreddit">r/rust</h3>
        <ul class="item-list">
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p9eskn/my_latest_dumb_side_project_lxcli_a_nicer_way_to/" target="_blank">My latest dumb side project, "lx-cli": a nicer way to list your files ‚ú®</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p><a href="https://github.com/JackDerksen/lx-cli">Link to the GH repo</a></p> <p><a href="https://crates.io/crates/lx-cli">Link to the crates.io page</a></p> <p>---</p> <p>This week on <em>Dumb Little Side Projects I Made Because This One Specific Think Was Bugging Me</em>: &#39;lx,&#39; the modernized drop-in replacement for the &#39;ls&#39; command!</p> <p>I don&#39;t know how we&#39;ve accepted the standard &#39;ls&#39; format as the standard, as (for me, at least) it&#39;s pretty slow to visually scan since it&#39;s alphabetically sorting directories and files together. Different shells handle column layouts differently, too, and I&#39;ve found my MacBook&#39;s zsh shell to be the ugliest and hardest to parse. I think this leads to a cluttered mess, and I found myself getting increasingly annoyed by it.</p> <p>&#39;lx&#39; aims to solve this by sorting each file type into its own column, and each column is then sorted alphabetically. There are also nerd font icons to help people quickly scan the different file types, which I think would be useful if a user is colourblind or they&#39;re working in black and white for whatever reason. If you don&#39;t have a nerd font, don&#39;t worry! There&#39;s support for a config file where you can define your own colour scheme and choose whatever icons you want (including emojis, single characters, mutli-char &quot;icons,&quot; or no icons at all if you want a more traditional look). You can also customize the column padding, and the max number of rows to display before wrapping over to the next column. I&#39;ll add more configuration options in the future too, like the ability to choose which fields are shown in the long &#39;lx -l&#39; view.</p> <p>I&#39;ll also be adding support for more flags, and trying to optimize the code as much as possible. I think it&#39;s already pretty damn fast (not discernible from standard &#39;ls&#39; to me, at least on small-medium sized codebases), but it can always be faster! Regardless, I&#39;m making this project mostly as a learning exercise. I&#39;m already working on a custom Rust TUI framework, <a href="https://github.com/JackDerksen/minui">MinUI</a>, but I&#39;ve never made a Rust crate as a binary application to be installed on someone&#39;s machine before.</p> <p>It&#39;s also been fun to recreate a standard unix command, but ultimately this was an issue that I noticed in my personal life, I set out to make a solution and learn a thing or two, and hopefully one of you thinks it&#39;s cool and/or useful!!</p> <p>Thanks for looking, folks :)</p> <p>Of course, if you have any feedback, please let me know and/or open up an issue on the GitHub page!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/_viis_"> /u/_viis_ </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p9eskn/my_latest_dumb_side_project_lxcli_a_nicer_way_to/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p9eskn/my_latest_dumb_side_project_lxcli_a_nicer_way_to/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p9ejgl/pgmextrars_highperformance_learned_index/" target="_blank">pgm-extra-rs ‚Äì High-performance learned index structures for Rust</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/itsfoxstudio"> /u/itsfoxstudio </a> <br/> <span><a href="https://github.com/itsfoxstudio/pgm-extra-rs">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p9ejgl/pgmextrars_highperformance_learned_index/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p9d1du/just_published_symbanafis_a_symbolic/" target="_blank">Just published SymbAnaFis: A symbolic differentiator in Rust</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Just published my first Rust crate to crates.io: SymbAnaFis, a symbolic differentiation library! </p> <p><a href="https://crates.io/crates/symb_anafis">https://crates.io/crates/symb_anafis</a></p> <p><a href="https://github.com/CokieMiner/SymbAnaFis">https://github.com/CokieMiner/SymbAnaFis</a></p> <p>**What it does:**</p> <p>- Computes symbolic derivatives of complex mathematical expressions</p> <p>- Supports trigonometric, hyperbolic, exponential, and logarithmic functions</p> <p>- Extensive algebraic simplification rules</p> <p>- Context-aware parsing (handles fixed variables and custom functions)</p> <p>- Built with Rust&#39;s safety guarantees and configurable recursion limits</p> <p>**Why I built it:**</p> <p>I needed symbolic derivatives for a physics project, but existing libraries like Symbolica and MathCore didn&#39;t support enough functions for my needs. So I spent an afternoon building my own (with some AI assistance - I&#39;m still learning Rust!).</p> <p>**Current features:**</p> <p>- Comprehensive function support (sin, cos, tan, sinh, cosh, exp, ln, sqrt, erf, gamma, etc.)</p> <p>- Advanced simplification (trig identities, power rules, logarithmic properties)</p> <p>- Rust 2024 edition</p> <p>- Full documentation and examples</p> <p>The simplifier logic is the most complex part, and if you could help it would be much appreciated:</p> <p>- Add more simplification rules(I&#39;m not an encyclopedia, can&#39;t remember all)</p> <p>- Optimize performance</p> <p>- Improve accuracy for edge cases</p> <p>- Add support for more special functions</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/CokieMiner"> /u/CokieMiner </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p9d1du/just_published_symbanafis_a_symbolic/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p9d1du/just_published_symbanafis_a_symbolic/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p96vtt/mutable_references_and_asyncawait/" target="_blank">Mutable references and async/await</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>When using Tokio and async/await it seems that I am able to pass mutable references to any function I want. Under the hood I know async/await ultimately results in code being executed in different threads, which makes me worried about how easily rust allows me to do this.</p> <p>Maybe I am worried for nothing, but can someone explain to me why this is ok and what I can do to make sure my mutable reference is handled safely across async/await.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/lambda_legion_2026"> /u/lambda_legion_2026 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p96vtt/mutable_references_and_asyncawait/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p96vtt/mutable_references_and_asyncawait/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p96rid/how_would_you_approach/" target="_blank">How would you approach</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/Cooladjack"> /u/Cooladjack </a> <br/> <span><a href="/r/AskProgramming/comments/1p96nde/how_would_you_approach/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p96rid/how_would_you_approach/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p965mv/specialization_in_stable/" target="_blank">Specialization in stable</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I am sharing a trick I use to specialize function body in term of generic type. I don&#39;t want to maintain a crate for that so I share the code here;</p> <p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2024&amp;gist=01df7984078b20f67bb289f8faf2de51">link to playground</a></p> <p>The trick consist to cast a value of generic type T, to its actual type.<br/> Then the code look like this:<br/> ``` </p> <p>/// Crate a Box&lt;dyn Any&gt; that avoid to create a box of a box if T is already a Box&lt;dyn Any&gt;</p> <p>fn to_box&lt;T: &#39;static + Any&gt;(v: T) -&gt; Box&lt;dyn Any&gt; {</p> <p>specialize! { v,</p> <p>Box&lt;dyn Any&gt; =&gt; v,</p> <p>Box&lt;dyn Any+Send&gt; =&gt; v,</p> <p>Box&lt;dyn Any+Sync&gt; =&gt; v,</p> <p>Box&lt;dyn Any+Sync+Send&gt; =&gt; v,</p> <p>else =&gt; Box::new(v),</p> <p>}</p> <p>}</p> <p>```</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/OliveTreeFounder"> /u/OliveTreeFounder </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p965mv/specialization_in_stable/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p965mv/specialization_in_stable/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p93pta/velum_postquantum_commandline_encryption_tool/" target="_blank">VELUM: Post-quantum command-line encryption tool with recipient anonymity and zero-seek streaming, written in Rust.</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Over the past year I built VELUM - a transport-agnostic end-to-end encryption protocol designed for the post-quantum era.</p> <p>Idea is simple: encrypt once and throw the ciphertext anywhere you want (messenger, cloud, USB stick, email, QR code, whatever) ‚Äì the transport never sees plaintext and doesn‚Äôt even learn who the recipients are.</p> <p><strong>Key features:</strong></p> <ul> <li>Hybrid post-quantum: X25519 + ML-KEM-768 (Kyber), Ed25519 + ML-DSA-65 (Dilithium3)</li> <li>Recipient anonymity via per-recipient blinded KEM capsules + 64-bit index hints (O(1) lookup)</li> <li>Zero-seek streaming with constant memory (works on pipes, network streams)</li> <li>Dual wire formats: PEM-style armor (copy-paste friendly) and compact binary</li> <li>Multi-recipient with commitment preventing grafting attacks</li> <li>+ 5000 LoC, Apache 2.0, no unsafe in core, full zeroize, constant-time parsing</li> </ul> <p><strong>GitHub:</strong> <a href="https://github.com/velum-project/velum">https://github.com/velum-project/velum</a></p> <p><strong>Disclaimer:</strong> This is experimental and unaudited. For production use, please stick with age or GPG.</p> <p><strong>Looking for feedback on:</strong></p> <ol> <li>Rust implementation (any obvious issues?)</li> <li>Recipient anonymity model (64-bit hints vs O(n) scan trade-off)</li> <li>Hybrid KEM composition (HKDF-Extract of both shared secrets)</li> <li>Zero-seek streaming design</li> <li>Any security concerns I missed</li> </ol> <p>Happy to discuss the design choices and battle scars!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/velum-project"> /u/velum-project </a> <br/> <span><a href="https://github.com/velum-project/velum">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p93pta/velum_postquantum_commandline_encryption_tool/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p93htx/im_creating_a_useful_library_database_for_caching/" target="_blank">I'm creating a useful library ("database") for caching in data engineering pipelines. Is the LGPL-2.1 license good?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I wanna leave this license because I just want to see this project more like a research or to be used by others if they want.<br/> It is already useful and used at my company. Usually I would put this license for what I read, but I was thinking if it is a problem because it uses Rust. I saw someone saying that for Rust projects this license would force everyone to open source their code. I couldn&#39;t understand this from the license and still don&#39;t get what is different from using this in Rust or other languages. Is there a problem with this? I want people to keep it open if they improve the library, but I don&#39;t want to force everyone who uses it to make their code open source. I just want a minimum protective license, so people feel at least a little obligated to share some advances that they make if they find any.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/swordmaster_ceo_tech"> /u/swordmaster_ceo_tech </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p93htx/im_creating_a_useful_library_database_for_caching/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p93htx/im_creating_a_useful_library_database_for_caching/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p91w5r/media_oxdraw_codemaps_declarative_diagrams_linked/" target="_blank">[Media]: Oxdraw Codemaps - Declarative Diagrams Linked with Your Codebase</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hi everyone I wanted to share a new feature that I am working on for declarative diagrams.</p> <p>The essential goal of declarative diagramming is to make it easier to maintain and version diagrams for documentation, presentations, etc. With AI this could be even easier because it can read the codebase and make the diagrams just via text.</p> <p>With the newest version of <a href="https://github.com/RohanAdwankar/oxdraw">oxdraw</a> I now aim to make these diagrams even more expressive by linking segments of the codebase to the diagram so users can understand the broad architecture as well as the specific code segments.</p> <p>The two use cases I am thinking about are:</p> <ol> <li><p>If a new person is entering a large repo they are unfamiliar with, they can run <code>oxdraw --code-map ./ --gemini &lt;key&gt;</code> and then quickly get an easy to browse map of the code to find what they need.</p></li> <li><p>For projects that need to maintain diagrams, codemaps can be used as a concise way to be more suggestive.</p></li> </ol> <p>It would be fantastic to hear some feedback on this codemap idea, or the broader idea of this project focused on combining the benefits of declarative tools and customizable diagram interfaces. It would be great to hear from a mix of people from different experience levels as I imagine senior devs spend more of their time making the architecture diagrams and juniors spend more of their time trying to understand what&#39;s going on from them so both perspectives would be helpful!</p> <p>Feel free to check out the repo here: <a href="https://github.com/RohanAdwankar/oxdraw">https://github.com/RohanAdwankar/oxdraw</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/ilikehikingalot"> /u/ilikehikingalot </a> <br/> <span><a href="https://i.redd.it/l5xqkhn37z3g1.gif">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p91w5r/media_oxdraw_codemaps_declarative_diagrams_linked/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8ydos/mysterious_double_move_issue_solved/" target="_blank">Mysterious Double Move Issue ( Solved )</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I was studying the move logic and I surprised once I see that the following code compiles and runs ok. More interestingly when I use &quot;rustc&quot; instead of &quot;cargo build&quot; it gives the error which I expected. I&#39;m creating a Person object in the following code and move the object into two separate thread ( which I do not expect to happen. I deliberately added a String field to check if the copy or clone happening under the hood but no change. (I&#39;m using rustc and cargo version 1.91.1</p> <p>Update (solved) : Compile error raised when I try to access the string field of the person. So it seems &quot;move&quot; logic can select which fields to move.</p> <pre><code>use std::thread::sleep; use std::time::Duration; struct Person { age : u16, height : u32, name : String } fn main() { let mut p = Person{age : 1,height : 0, name : &quot;NoName&quot;.to_string()}; let th1 = std::thread::spawn( move ||{ println!(&quot;Thread 1 started &quot;); println!(&quot;Thread 1 Person before update: {}&quot;,p.age); p.age += 1; println!(&quot;Thread 1 Person after update: {}&quot;,p.age); //println!(&quot;Thread 2 Person name: {}&quot;,p.name); sleep(Duration::new(1,0)); }); let th2 = std::thread::spawn( move ||{ println!(&quot;Thread 2 started &quot;); println!(&quot;Thread 2 Person before update: {}&quot;,p.age); p.age += 2; println!(&quot;Thread 2 Person after update: {}&quot;,p.age); //println!(&quot;Thread 2 Person name: {}&quot;,p.name); sleep(Duration::new(2,0)); }); th1.join().unwrap(); th2.join().unwrap(); println!(&quot;Threads joined&quot;); //println!(&quot;{}&quot;,p.age); } </code></pre> <p>And the output is</p> <pre><code>Thread 2 started Thread 2 Person before update: 1 Thread 2 Person after update: 3 Thread 1 started Thread 1 Person before update: 1 Thread 1 Person after update: 2 Threads joined </code></pre> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/kivancg"> /u/kivancg </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p8ydos/mysterious_double_move_issue_solved/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8ydos/mysterious_double_move_issue_solved/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8wluq/how_to_fit_an_elephant_in_a_rusty_refrigerator/" target="_blank">How to Fit an Elephant in a Rusty Refrigerator - Kiril Karaatanasov | EuroRust 2025</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/EuroRust"> /u/EuroRust </a> <br/> <span><a href="https://youtu.be/C87GIl1n8v4">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8wluq/how_to_fit_an_elephant_in_a_rusty_refrigerator/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8vjpw/why_does_stdlib_prefer_using_controlflow_with_try/" target="_blank">Why does stdlib prefer using ControlFlow with try_fold?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>In the stdlib source for the iterator trait, the common pattern used is ControlFlow with try_fold, or similar. Example for the find function:</p> <pre><code> fn find&lt;P&gt;(&amp;mut self, predicate: P) -&gt; Option&lt;Self::Item&gt; where Self: Sized, P: FnMut(&amp;Self::Item) -&gt; bool, { #[inline] fn check&lt;T&gt;(mut predicate: impl FnMut(&amp;T) -&gt; bool) -&gt; impl FnMut((), T) -&gt; ControlFlow&lt;T&gt; { move |(), x| { if predicate(&amp;x) { ControlFlow::Break(x) } else { ControlFlow::Continue(()) } } } self.try_fold((), check(predicate)).break_value() } </code></pre> <p>I&#39;m curious if there is a benefit to this, versus using traditional loops.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/ende124"> /u/ende124 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p8vjpw/why_does_stdlib_prefer_using_controlflow_with_try/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8vjpw/why_does_stdlib_prefer_using_controlflow_with_try/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8vb0b/eli5_why_does_rust_allow_double_borrowing/" target="_blank">ELI5: Why does rust allow double borrowing?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>A bit of a newby question I guess.</p> <p>I don&#39;t understand the idea of having &amp;&amp; or &amp;mut &amp;mut, in structs or functions. Shouldn&#39;t the Rust compiler be able to calculate whenever something is borrowed and just doesn&#39;t free the memory, so It doesn&#39;t matter if its borrowed more than once and only allow single borrow for readability?</p> <p>Somewhere the owner of the memory cleans up the memory and I guess all lifetimes should tickle down. So the borrowed function should extend the lifetime automatically to the last possible lifetime based on the functions it calls?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/norlock_dev"> /u/norlock_dev </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p8vb0b/eli5_why_does_rust_allow_double_borrowing/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8vb0b/eli5_why_does_rust_allow_double_borrowing/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8uhke/courses_with_projects/" target="_blank">Courses with projects</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hi, I&#39;m interested in learning rust and I&#39;m looking for a course or video tutorials with project building. For reference I learned python with 100 days of code. The concept is that each day you build a project going from basic to more complex stuff and I really loved that. I was wondering if anyone knows of a similar course for rust that they enjoyed</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/felgueiras24"> /u/felgueiras24 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p8uhke/courses_with_projects/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8uhke/courses_with_projects/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8tbdd/some_neat_things_about_rust_you_might_not_know/" target="_blank">Some neat things about Rust you might not know</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hi <code>r/rust</code>, I&#39;m John Arundel. You may remember me from such books as <a href="https://bitfieldconsulting.com/books/rust-tools">The Secrets of Rust: Tools</a>, but I&#39;m not here about that. I&#39;m collecting material for a new book all about useful Rust tips, tricks, techniques, crates, and features that not everyone knows.</p> <p>Every time I learned something neat about Rust, I wrote it down so I&#39;d remember it. Eventually, the list got so long it could fill a book, and here we are! I&#39;ll give you a few examples of the kind of thing I mean:</p> <ul> <li><p>Got a function or closure that returns <code>Option&lt;T&gt;</code>? Turn it into an iterator with <a href="https://doc.rust-lang.org/std/iter/fn.from_fn.html"><code>iter::from_fn</code></a>.</p></li> <li><p>You can <code>collect()</code> an iterator of <code>Results</code> into a <code>Result&lt;Vec&gt;</code>, so you&#39;ll either get all the <code>Ok</code> results, or the first <code>Err</code>.</p></li> <li><p>You can gate a <code>derive(Bar)</code> behind a feature flag <code>foo</code>, with <code>cfg_attr(feature = &quot;foo&quot;, derive(Bar)]</code>.</p></li> <li><p>If you have a struct with <code>pub</code> fields but you don&#39;t want users to be able to construct an instance of it, mark it <code>non_exhaustive</code>.</p></li> <li><p>To match a <code>String</code> against static <code>str</code>s, use <code>as_str()</code>:</p> <p><code> match stringthing.as_str() { ‚Äúa‚Äù =&gt; println!(‚Äú0‚Äù), ‚Äúb‚Äù =&gt; println!(‚Äú1‚Äù), ‚Äúc‚Äù =&gt; println!(‚Äú2‚Äù), _ =&gt; println!(‚Äúsomething else!‚Äù), } </code></p></li> </ul> <p>The idea is that no matter how much or how little Rust experience you have, there&#39;ll be something useful in the book for you. I&#39;ve got a huge file of these already, but Rust is infinite, and so is my ignorance. Over to you‚Äîwhat are your favourite neat things in Rust that someone might not know?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/bitfieldconsulting"> /u/bitfieldconsulting </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1p8tbdd/some_neat_things_about_rust_you_might_not_know/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8tbdd/some_neat_things_about_rust_you_might_not_know/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8t75v/im_making_a_minecraft_clone/" target="_blank">I'm making a Minecraft clone</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>TLDR; making an open source Minecraft clone, consider giving it a star.</p> <p>Hello everyone, I&#39;m new here, just wanted to make a post about my Minecraft clone, It aims to be as close to the original java edition as possible, nothing to show yet, but Im pretty close to making the renderer, it would be very portable, supporting all major operating systems and even web, (and even mobile in future), some moral support would help, consider giving it a star üôÇ.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Mission_Call_1896"> /u/Mission_Call_1896 </a> <br/> <span><a href="https://github.com/mcre-project/mcre">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8t75v/im_making_a_minecraft_clone/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1p8rav2/typestate_what_do_you_think_of_these_very_short/" target="_blank">TypeState - What do you think of these very short explainers for software patterns?</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/Gisleburt"> /u/Gisleburt </a> <br/> <span><a href="https://youtube.com/watch?v=YPP2uQzdvN8">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1p8rav2/typestate_what_do_you_think_of_these_very_short/">[comments]</a></span></div>
          </li>
  
        </ul>
  
        <h3 class="subreddit">r/golang</h3>
        <ul class="item-list">
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p98y85/what_are_your_favorite_examples_from/" target="_blank">What are your favorite examples from gobyexample.com</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Just came across Stateful Goroutines page with an alternative for mutexes by delegating the variable management to a single go routine and using channels to pass requests to modify it from the other goroutines and found it super useful. </p> <p>What are the most useful ones you‚Äôve found?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Sn00py_lark"> /u/Sn00py_lark </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p98y85/what_are_your_favorite_examples_from/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p98y85/what_are_your_favorite_examples_from/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p977kx/httpsoldredditcomrredditengcomments1mbqto6moderniz/" target="_blank">https://old.reddit.com/r/RedditEng/comments/1mbqto6/modernizing_reddits_comment_backend_infrastructure/?captcha=1</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Possibly a repost to this sub - it discusses in some detail how Reddit has migrated legacy (Python) to Go, embracing DDD</p> <p>I don&#39;t think it should be read as &quot;Go is better than Python ... yaaaaaaaa&quot;</p> <p>More, &quot;Reddit are finding that Go is meeting their (current) needs, and, when married with DDD, they have arrived at what they are thinking is a better solution (keeping in mind that they had a pile of domain knowledge to inform their decisions that they might not have had with their earlier solution)</p> <p>(ugh relink because I has the dumb when creating posts with links in it)</p> <p><a href="https://old.reddit.com/r/RedditEng/comments/1mbqto6/modernizing_reddits_comment_backend_infrastructure/?captcha=1">https://old.reddit.com/r/RedditEng/comments/1mbqto6/modernizing_reddits_comment_backend_infrastructure/?captcha=1</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/gnu_morning_wood"> /u/gnu_morning_wood </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p977kx/httpsoldredditcomrredditengcomments1mbqto6moderniz/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p977kx/httpsoldredditcomrredditengcomments1mbqto6moderniz/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p8zo75/strategies_for_optimizing_go_application/" target="_blank">Strategies for Optimizing Go Application Performance in Production Environments</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>As I continue to develop and deploy Go applications, I&#39;ve become increasingly interested in strategies for optimizing performance, especially in production settings. Go&#39;s efficiency is one of its key strengths, but there are always aspects we can improve upon. What techniques have you found effective for profiling and analyzing the performance of your Go applications? Are there specific tools or libraries you rely on for monitoring resource usage, identifying bottlenecks, or optimizing garbage collection? Additionally, how do you approach tuning the Go runtime settings for maximum performance? I&#39;m looking forward to hearing about your experiences and any best practices you recommend for ensuring that Go applications run smoothly and efficiently in real-world scenarios.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/beckstarlow"> /u/beckstarlow </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p8zo75/strategies_for_optimizing_go_application/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p8zo75/strategies_for_optimizing_go_application/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p8xz0s/my_go_journey_from_jsts_land/" target="_blank">My GO journey from js/ts land</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I found GO looking for a better way to handle concurrency and errors - at the time I was working in a JS ecosystem and anytime I heard someone talk about golangs error handling, my ears would perk with excitement.</p> <p>So many of my debugging journeys started with `Cannot access property undefined`, or a timezone issue ... so I&#39;ve never complained about gos error handling -- to much is better than not any (js world) and I need to know exactly where the bug STARTED not just where it crashed.</p> <p>The concurrency model is exactly what I was looking for. I spent a lot of time working on error groups, waitgroups and goroutines to get it to click; no surprises there -- they are great.</p> <p>I grew to appreciate golangs standard library. I fought it and used some libs I shouldn&#39;t have at first, but realized the power of keeping everything standard once I got to keeping things up to date + maintenance; Ive had solid MONTHS to update a 5y/o JS codebase.</p> <p>What TOTALLY threw me off was <strong>golangs method receivers</strong> -- they are fantastic. Such a light little abstraction of a helper function that ends up accidentally organizing my code in extremely readable ways -- I&#39;m at risk of never creating a helper function again and overusing the craaaap out of method receivers.</p> <p>Thanks for taking the time to listen to me ramble -- I&#39;m still in my litmus test phase. HTTP API, with auth, SSE and stripe integration -- typical SAAS; then after, a webstore type deal. Im having a great time over here. Reach out of you have any advice for me.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/StrictWelder"> /u/StrictWelder </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p8xz0s/my_go_journey_from_jsts_land/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p8xz0s/my_go_journey_from_jsts_land/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p8ritw/nornicdb_mit_license_gpu_accelerated_neo4j_dropin/" target="_blank">NornicDB - MIT license - GPU accelerated - neo4j drop-in replacement - native embeddings and MCP server + stability and reliability updates</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>got a bunch of updates in tonight after thanksgiving was over to the overall stability and reliability of NornicDB. I pushed up a new apple image i‚Äôll get a new docker image for windows pushed tomorrow. </p> <p>performance is steady across the board in vector searching i‚Äôm approximately 2x faster on my mac laptop running locally than my i9 with 48gb of ram with neo4j executing the same queries against the same dataset with the same embedding space and indexes. </p> <p><a href="https://github.com/orneryd/Mimir/blob/main/nornicdb/README.md">https://github.com/orneryd/Mimir/blob/main/nornicdb/README.md</a></p> <p><a href="https://github.com/orneryd/Mimir">https://github.com/orneryd/Mimir</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Dense_Gate_5193"> /u/Dense_Gate_5193 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p8ritw/nornicdb_mit_license_gpu_accelerated_neo4j_dropin/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p8ritw/nornicdb_mit_license_gpu_accelerated_neo4j_dropin/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p8pz8d/resize_jpg_image_for_web_without_rotating/" target="_blank">Resize JPG image for web without rotating</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I have silly problem. I try resize images with code:</p> <p><code>package main</code></p> <p><code>import (</code></p> <pre><code>`&quot;fmt&quot;` `&quot;image&quot;` `&quot;image/jpeg&quot;` `_ &quot;image/jpeg&quot;` `_ &quot;image/png&quot;` `&quot;log&quot;` `&quot;os&quot;` `&quot;github.com/nfnt/resize&quot;` </code></pre> <p><code>)</code></p> <p><code>func getImageDimension(imagePath string) (int, int) {</code></p> <pre><code>`file, err := os.Open(imagePath)` `if err != nil {` `fmt.Fprintf(os.Stderr, &quot;%v\n&quot;, err)` `fmt.Printf(&quot;Error opening file %s. Error: %s&quot;, imagePath, err)` `}` `image, _, err := image.DecodeConfig(file)` `if err != nil {` `fmt.Fprintf(os.Stderr, &quot;%s: %v\n&quot;, imagePath, err)` `fmt.Printf(&quot;Error decoding file %s. Error: %s&quot;, imagePath, err)` `}` `return image.Width, image.Height` </code></pre> <p><code>}</code></p> <p><code>func main() {</code></p> <pre><code>`testFile := &quot;test.jpg&quot;` `file, err := os.Open(testFile)` `if err != nil {` `log.Fatal(err)` `}` `img, err := jpeg.Decode(file)` `if err != nil {` `log.Fatal(err)` `}` `file.Close()` `width, height := getImageDimension(testFile)` `targetWidth := 800` `targetHeight := 600` `if width &lt; height {` `targetHeight = targetWidth` `targetWidth = targetHeight` `}` `m := resize.Thumbnail(uint(targetWidth), uint(targetHeight), img, resize.Lanczos3)` `//` `out, err := os.Create(&quot;test_resized.jpg&quot;)` `if err != nil {` `log.Fatal(err)` `}` `defer out.Close()` `jpeg.Encode(out, m, nil)` `fmt.Println(&quot;Done&quot;)` </code></pre> <p><code>}</code></p> <p>All works fine, because it is resize and size reduced as expected. Problem is when image is in portrait resized image is rotated by 90 degrees. It it is landscape - it is not problem. I tried switch dimension, but it is simply not working. I tried switch dimension, but it is not work. Still, result it is the same.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/pepiks"> /u/pepiks </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p8pz8d/resize_jpg_image_for_web_without_rotating/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p8pz8d/resize_jpg_image_for_web_without_rotating/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p8ovc7/when_do_go_processes_return_idle_memory_back_to/" target="_blank">When do Go processes return idle memory back to the OS?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>My understanding is after a GC the spans which have no reachable objects are marked as idle and remain with the go process for future allocations. This is leading to overall memory usage of the process to be high by 50% that wants needed. </p> <p>I want to understand by default when does the go process return the idle memory to the OS? </p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/DeparturePrudent3790"> /u/DeparturePrudent3790 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p8ovc7/when_do_go_processes_return_idle_memory_back_to/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p8ovc7/when_do_go_processes_return_idle_memory_back_to/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1p8n0y2/go_pooling_strategies_syncpool_vs_generics_vs/" target="_blank">Go Pooling Strategies: sync.Pool vs Generics vs ResettablePool ‚Äî Benchmarks and Takeaways</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I have been working on a web photo gallery personal project and playing with various A.I. as programming assistants. I have recently completed all of the features for my first release with most of the code constructed in conjunction with Gemini CLI and a portion from Claude Sonnet 4.5.</p> <p>The vast majority of the code uses stdlib with a few 3rd party packages for SQLite database access and http sessions. The code can generally be broken into two categories: Web Interface and Server (HTMX/Hyperscript using TailwindCSS and DaisyUI served by net/http) and Image Ingestion. The dev process was traditional. Get working code first. If performance is a problem, profile and adjust.</p> <p>The web performance tricks were primarily on the front-end. <code>net/http</code> and <code>html/templates</code> worked admirably well with bog standard code.</p> <p>The Image Ingestion code is where most of the performance improvement time was spent. It contains a worker pool curated to work as well as possible over different hardware (small to large), a custom <code>sql/database</code> connection pool to over come some performance limitation of the stdlib pool, and heavily leverages sync.Pool to minimize allocation overhead.</p> <p>I asked Copilot in VSCode to perform a Code Review. I was a bit surprised with its result. It was quite good. Many of the issues that it identified, like insufficient negative testing, I expected.</p> <p>I did not expect it to recommend replacing my use of sync.Pool with generic versions for type safety and possible performance improvement. My naive pre-disposition has been to &quot;not&quot; use generics where performance is a concern. Nonetheless, this raised my curiosity. I asked Copilot to write benchmarks to compare the implementations.</p> <p>The benchmark implementations are:</p> <ul> <li>Interface-based <code>sync.Pool</code> using pointer indirection (e.g., <code>*[]byte</code>, <code>*bytes.Buffer</code>, <code>*sql.NullString</code>).</li> <li>Generics-based pools: <ul> <li><code>SlicePool[T]</code> storing values (e.g., <code>[]byte</code> by value).</li> <li><code>PtrPool[T]</code> storing pointers (e.g., <code>*bytes.Buffer</code>, <code>*sql.NullString</code>).</li> </ul></li> <li>A minimal <code>ResettablePool</code> abstraction (calls <code>Reset()</code> automatically on <code>Put</code>) versus generic pointer pools, for types that can cheaply reset.</li> </ul> <p>Link to benchmarks below.</p> <p>The results are:</p> <table><thead> <tr> <th align="left">Category</th> <th align="left">Strategy</th> <th align="left">Benchmark</th> <th align="left">ns/op</th> <th align="left">B/op</th> <th align="left">allocs/op</th> </tr> </thead><tbody> <tr> <td align="left">[]byte (32KiB)</td> <td align="left">Interface pointer (<code>*[]byte</code>)</td> <td align="left">GetPut</td> <td align="left">34.91</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">[]byte (32KiB)</td> <td align="left">Generic value slice (<code>[]byte</code>)</td> <td align="left">GetPut</td> <td align="left">150.60</td> <td align="left">24</td> <td align="left">1</td> </tr> <tr> <td align="left">[]byte (32KiB)</td> <td align="left">Interface pointer (<code>*[]byte</code>)</td> <td align="left">Parallel</td> <td align="left">1.457</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">[]byte (32KiB)</td> <td align="left">Generic value slice (<code>[]byte</code>)</td> <td align="left">Parallel</td> <td align="left">24.07</td> <td align="left">24</td> <td align="left">1</td> </tr> <tr> <td align="left">*bytes.Buffer</td> <td align="left">Interface pointer</td> <td align="left">GetPut</td> <td align="left">30.41</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*bytes.Buffer</td> <td align="left">Generic pointer</td> <td align="left">GetPut</td> <td align="left">30.60</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*bytes.Buffer</td> <td align="left">Interface pointer</td> <td align="left">Parallel</td> <td align="left">1.990</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*bytes.Buffer</td> <td align="left">Generic pointer</td> <td align="left">Parallel</td> <td align="left">1.344</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullString</td> <td align="left">Interface pointer</td> <td align="left">GetPut</td> <td align="left">14.73</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullString</td> <td align="left">Generic pointer</td> <td align="left">GetPut</td> <td align="left">18.07</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullString</td> <td align="left">Interface pointer</td> <td align="left">Parallel</td> <td align="left">1.215</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullString</td> <td align="left">Generic pointer</td> <td align="left">Parallel</td> <td align="left">1.273</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullInt64</td> <td align="left">Interface pointer</td> <td align="left">GetPut</td> <td align="left">19.31</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullInt64</td> <td align="left">Generic pointer</td> <td align="left">GetPut</td> <td align="left">18.43</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullInt64</td> <td align="left">Interface pointer</td> <td align="left">Parallel</td> <td align="left">1.087</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">*sql.NullInt64</td> <td align="left">Generic pointer</td> <td align="left">Parallel</td> <td align="left">1.162</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">md5 hash.Hash</td> <td align="left">ResettablePool</td> <td align="left">GetPut</td> <td align="left">30.22</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">md5 hash.Hash</td> <td align="left">Generic pointer</td> <td align="left">GetPut</td> <td align="left">28.13</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">md5 hash.Hash</td> <td align="left">ResettablePool</td> <td align="left">Parallel</td> <td align="left">2.651</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">md5 hash.Hash</td> <td align="left">Generic pointer</td> <td align="left">Parallel</td> <td align="left">2.152</td> <td align="left">0</td> <td align="left">0</td> </tr> <tr> <td align="left">galleryImage (RGBA 1920x1080)</td> <td align="left">ResettablePool</td> <td align="left">GetPut</td> <td align="left">871,449</td> <td align="left">2</td> <td align="left">0</td> </tr> <tr> <td align="left">galleryImage (RGBA 1920x1080)</td> <td align="left">Generic pointer</td> <td align="left">GetPut</td> <td align="left">412,941</td> <td align="left">1</td> <td align="left">0</td> </tr> <tr> <td align="left">galleryImage (RGBA 1920x1080)</td> <td align="left">ResettablePool</td> <td align="left">Parallel</td> <td align="left">213,145</td> <td align="left">1</td> <td align="left">0</td> </tr> <tr> <td align="left">galleryImage (RGBA 1920x1080)</td> <td align="left">Generic pointer</td> <td align="left">Parallel</td> <td align="left">103,162</td> <td align="left">1</td> <td align="left">0</td> </tr> </tbody></table> <p>These benchmarks were run on my dev server: <code>Intel(R) Xeon(R) CPU E5-2680 v3 @ 2.50GHz</code> (Linux, Go on amd64).</p> <p>Takeaways:</p> <ul> <li>For slices, a generic value pool (<code>[]byte</code>) incurs allocations (value copy semantics). Prefer interface pointer pools (<code>*[]byte</code>) or a generic pointer pool to avoid allocations.</li> <li>For pointer types (<code>*bytes.Buffer</code>, <code>*sql.NullString/Int64</code>), both interface and generic pointer pools are allocation-free and perform similarly.</li> <li>For <code>md5</code> (Resettable), both approaches are zero-alloc; minor speed differences were observed - not significant</li> <li>For large/complex objects (<code>galleryImage</code> which is image.Image wrapped in a struck), a generic pointer pool was ~2√ó faster than <code>ResettablePool</code> in these tests, likely due to reduced interface overhead and reset work pattern.</li> </ul> <p>Try it yourself:</p> <p>Gist: <a href="https://gist.github.com/lbe/583661f8f276734b221188e199d0c930">Go benchmark that compares several pooling strategies</a></p> <pre><code>go test -bench . -benchmem -run &#39;^$&#39; </code></pre> <p>Filter groups:</p> <pre><code>go test -bench &#39;BufPool&#39; -benchmem -run &#39;^$&#39; go test -bench &#39;BufferPool&#39; -benchmem -run &#39;^$&#39; go test -bench &#39;Null(String|Int64)Pool_(GetPut|Parallel)$&#39; -benchmem -run &#39;^$&#39; go test -bench &#39;MD5_(GetPut|Parallel)$&#39; -benchmem -run &#39;^$&#39; go test -bench &#39;GalleryImage_(GetPut|Parallel)$&#39; -benchmem -run &#39;^$&#39; </code></pre> <p>Closing Thoughts:</p> <p>Pools are powerful. Details matter! Use pointer pools. Avoid value slice pools. Expect parity across strategies (interface/generic) for pointer to small types. Generic may be faster is the type is large. And as always, benchmark your actual workloads. Relative performance can shift with different reset logic and usage patterns.</p> <p>I hope you find this informative. I did.</p> <p>lbe</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/LearnedByError"> /u/LearnedByError </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1p8n0y2/go_pooling_strategies_syncpool_vs_generics_vs/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1p8n0y2/go_pooling_strategies_syncpool_vs_generics_vs/">[comments]</a></span></div>
          </li>
  
        </ul>
  
      </div>
  
    </div>
  </body>
  </html>