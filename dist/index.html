
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      :root {
        --bg-color: #121212;
        --container-bg: #1e1e1e;
        --text-color: #e0e0e0;
        --heading-color: #ffffff;
        --subheading-color: #58a6ff;
        --link-color: #58a6ff;
        --border-color: #333333;
        --item-hover: #2a2a2a;
        --shadow: 0 4px 12px rgba(0,0,0,0.2);
        --accent-color: #58a6ff;
        --tooltip-bg: #2a2a2a;
        --tooltip-text: #e0e0e0;
        --table-header-bg: #2a2a2a;
        --table-header-text: #ffffff;
        --table-row-odd: #1e1e1e;
        --table-row-even: #252525;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.5;
        color: var(--text-color);
        background-color: var(--bg-color);
        margin: 0;
        padding: 0;
      }
      
      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 15px;
      }
      
      .card {
        background-color: var(--container-bg);
        border-radius: 8px;
        box-shadow: var(--shadow);
        padding: 16px;
        margin-bottom: 16px;
        transition: all 0.2s ease;
      }
      
      .card:hover {
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      }

      .header-p {
        margin: 0.2em 0;
        font-weight: 500;
        letter-spacing: -0.02em;
        font-size: 14px;
      }

      .subreddit {
        text-align: right;
      }
      
      h2 {
        font-size: 18px;
        font-weight: 600;
        color: var(--heading-color);
        margin-top: 0;
        margin-bottom: 12px;
        padding-bottom: 6px;
        border-bottom: 2px solid var(--accent-color);
      }
      
      h3 {
        font-size: 16px;
        font-weight: 500;
        color: var(--subheading-color);
        margin-bottom: 8px;
      }
      
      a {
        color: var(--link-color);
        text-decoration: none;
        transition: color 0.2s ease;
      }
      
      a:hover {
        color: var(--accent-color);
        text-decoration: underline;
      }
      
      /* Weather Table Styles */
      .weather-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
        border-radius: 6px;
        overflow: hidden;
      }
      
      .weather-table th {
        background-color: var(--table-header-bg);
        color: var(--table-header-text);
        font-weight: 500;
        text-align: left;
        padding: 8px 12px;
        font-size: 14px;
      }
      
      .weather-table td {
        padding: 8px 12px;
        border-bottom: 1px solid var(--border-color);
        font-size: 14px;
      }
      
      .weather-table tr:nth-child(odd) {
        background-color: var(--table-row-odd);
      }
      
      .weather-table tr:nth-child(even) {
        background-color: var(--table-row-even);
      }
      
      .weather-table tr:last-child td {
        border-bottom: none;
      }
      
      .comic {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 12px 0;
      }
      
      .comic-title {
        font-weight: 600;
        margin-bottom: 8px;
        text-align: center;
        font-size: 15px;
      }
      
      .comic img {
        max-width: 600px;
        max-height: auto;
        object-fit: contain;
        border-radius: 6px;
        margin-bottom: 6px;
        cursor: pointer;
      }
      
      .comic-number {
        font-size: 12px;
        color: var(--text-color);
        opacity: 0.7;
        margin-top: 3px;
      }
      
      .item-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .item-list li {
        padding: 8px 10px;
        border-bottom: 1px solid var(--border-color);
        position: relative;
        font-size: 14px;
      }
      
      .item-list li:last-child {
        border-bottom: none;
      }
      
      .item-list li:hover {
        background-color: var(--item-hover);
        border-radius: 4px;
      }
      
      .item-content {
        display: none;
        position: absolute;
        z-index: 10;
        background-color: var(--tooltip-bg);
        color: var(--tooltip-text);
        border-radius: 6px;
        padding: 15px;
        width: 90%;
        max-width: 100%;
        box-shadow: 0 4px 16px rgba(0,0,0,0.3);
        left: 50%;
        transform: translateX(-50%);
        bottom: 100%;
        font-size: 13px;
        line-height: 1.4;
        overflow: auto;
        max-height: 250px;
        border: 4px solid var(--border-color);
      }

      .item-content::-webkit-scrollbar {
        display: none;
      }

      .item-list li:hover .item-content {
        display: block;
      }
      
      .item-list li::before {
        content: "‚Ä¢";
        color: var(--accent-color);
        font-weight: bold;
        display: inline-block;
        width: 1em;
        margin-left: -0.5em;
      }
      
      @media (max-width: 600px) {
        .container {
          padding: 10px;
        }
        
        .card {
          padding: 12px;
          margin-bottom: 12px;
        }
        
        .item-content {
          width: 95%;
          left: 2.5%;
          transform: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
  
      <div class="card">
        <h2>Huginn Daily</h2>
        <p class="header-p">Friday, August 15, 2025</p>
        <p class="header-p">24593537-000e-4951-b45c-5cd630fdbb35</p>
      </div>
  
      <div class="card">
        <h2>Weather</h2>
        <table class="weather-table">
          <tr>
            <th>Summary</th>
            <td>‚õÖÔ∏è Breezy and dry in the afternoon and dry in the afternoon.</td>
          </tr>
          <tr>
            <th>Temperature Range</th>
            <td>25¬∞C to 38¬∞C (77¬∞F to 100¬∞F)</td>
          </tr>
          <tr>
            <th>Feels Like</th>
            <td>Low: 73¬∞F | High: 91¬∞F</td>
          </tr>
          <tr>
            <th>Humidity</th>
            <td>25%</td>
          </tr>
          <tr>
            <th>Wind</th>
            <td>16 km/h (10 mph), Direction: 291¬∞</td>
          </tr>
          <tr>
            <th>Precipitation</th>
            <td>Probability: 0%, Type: No precipitation expected</td>
          </tr>
          <tr>
            <th>Sunrise / Sunset</th>
            <td>üåÖ 06:08 AM / üåá 07:35 PM</td>
          </tr>
          <tr>
            <th>Moon Phase</th>
            <td>Waning Gibbous (72%)</td>
          </tr>
          <tr>
            <th>Cloud Cover</th>
            <td>0%</td>
          </tr>
          <tr>
            <th>Pressure</th>
            <td>1006.98 hPa</td>
          </tr>
          <tr>
            <th>Dew Point</th>
            <td>46.17¬∞F</td>
          </tr>
          <tr>
            <th>Visibility</th>
            <td>10.0 miles</td>
          </tr>
        </table>
      </div>
  
      <div class="card">
        <h2>Reddit</h2>
  
        <h3 class="subreddit">r/rust</h3>
        <ul class="item-list">
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mql5oq/is_rust_mature_enough_for_simulation_software/" target="_blank">Is Rust mature enough for simulation software?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hello everyone,</p> <p>I am someone who works in the textiles industry and I want to create a simulation for fabrics. The idea is to be able to write technical information about a piece of fabric and the type machine and be able to see a virtual representation of it.</p> <p>As a reference you can look up softwares like NedGraphics or Shima Seiki Apex. The pixel pattern creation, technical data, etc is not my concern as that is UI and is relatively easy to implement.</p> <p>My concern is creating the simulation part of the software where I would basically have to work in depth for loops formation, fabric/garment formation and all of the math and physics that this implies.</p> <p>Does Rust have a good ecosystem for this kind of project?</p> <p>I know C++ is great at these things because of the community and ecosystem, but I was trying to set up Dear Imgui and it is just way too cumbersome for my liking and I would rather learn and use Rust over C++.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/SoloDeZero"> /u/SoloDeZero </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mql5oq/is_rust_mature_enough_for_simulation_software/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mql5oq/is_rust_mature_enough_for_simulation_software/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mqkj7s/fromresidual_for_bool/" target="_blank">FromResidual for bool</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;ve been thinking a bit about the <code>FromResidual</code> trait lately. So I&#39;ve run into a few situations where I have some (suggestively written) code like</p> <pre><code>impl Foo { fn find_and_operate(&amp;mut self, key: &amp;Baz) -&gt; bool { let thing: &amp;Bar = if let Some(thing) = self.get(key) { thing } else { return false; }; thing.fallible_operation().is_ok() } fn get(&amp;self, key: &amp;Baz) -&gt; Option&lt;Bar&gt; { /* ... */ } } impl Bar { fn fallible_operation(&amp;self) -&gt; Result&lt;T, E&gt; { /* ... */ } } </code></pre> <p>Like I&#39;m in a function that is just supposed to do something, but it&#39;s not really important, so if there&#39;s a failure, it&#39;s fine to ignore. But it still returns <code>bool</code> because maybe the caller is interested for some reason. Maybe for stats or to report to a user or something. It would be really convenient if <code>bool</code> implemented <code>FromResidual&lt;Option&lt;T&gt;&gt;</code> and <code>FromResidual&lt;Result&lt;T, E&gt;&gt;</code>, so that I could write this instead</p> <pre><code>fn find_and_operate(&amp;mut self, key: K) -&gt; bool { self.get(key)?.do_something()?; true } </code></pre> <p>Is this just something that nobody&#39;s done yet? Or is this an intentional decision, maybe to guide programmers toward using <code>Result&lt;(),()&gt;</code> in case you&#39;d want to return descriptive <code>Err</code> variants in the future? Nothing I&#39;ve looked at has mentioned anything about this, but I&#39;m also not that plugged into the community, so I don&#39;t know if I&#39;m missing something obvious.</p> <p>Happy to contribute if this is an original thought!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/relicanth56"> /u/relicanth56 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mqkj7s/fromresidual_for_bool/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mqkj7s/fromresidual_for_bool/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mqi0rf/crate_that_you_should_know_deboa/" target="_blank">Crate that you should know: deboa</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Deboa (<a href="https://github.com/ararog/deboa">https://github.com/ararog/deboa</a>) is a http client originally built on top of hyper + tokio, it has the standard http client features, alongside tls support.</p> <p>I just started working on support smol as async runtime, which will be offered as feature.</p> <p>JSON support is also very limited, but it is planned to be also offered as a feature and called as a function.</p> <p>This is one of my first projects done in rust, starts, issues, PRs or feedback are welcome.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/rogerara"> /u/rogerara </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mqi0rf/crate_that_you_should_know_deboa/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mqi0rf/crate_that_you_should_know_deboa/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mqcf0g/library_to_generate_fake_data_based_on_json_schema/" target="_blank">Library to generate fake data based on JSON schema</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hi guys,</p> <p>I&#39;ve been working on a tool to generate fake data from a JSON file.<br/> I called it JGD. If you want to try and give me some suggestions or open a PR, feel free:<br/> <a href="https://github.com/lvendrame/jgd-rs">https://github.com/lvendrame/jgd-rs</a></p> <p>I also added this library to another project, a mock server based on a folder structure.<br/> <a href="https://github.com/lvendrame/rs-mock-server">https://github.com/lvendrame/rs-mock-server</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Powerful_Station_704"> /u/Powerful_Station_704 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mqcf0g/library_to_generate_fake_data_based_on_json_schema/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mqcf0g/library_to_generate_fake_data_based_on_json_schema/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq93d4/filtraio_rust_jobs_report_july_2025/" target="_blank">filtra.io | Rust Jobs Report - July 2025</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/anonymous_pro_"> /u/anonymous_pro_ </a> <br/> <span><a href="https://filtra.io/rust/jobs-report/jul-25">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq93d4/filtraio_rust_jobs_report_july_2025/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq8ohs/beginner_struggling_with_this_tauri_app_im/" target="_blank">Beginner struggling with this Tauri app I'm building, any tips?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;m building a free Tauri app to download yt videos and directly split stems (inspired by a common pain point from my and my dj friends&#39; experience). The idea is it&#39;ll save time as all you&#39;ll have to do is paste a link and select models and stems and boom it&#39;s done and it&#39;ll have everything bundled and be ready to use out of the box with no extra installations or anything. I&#39;m using these libraries <a href="https://github.com/yt-dlp/yt-dlp">https://github.com/yt-dlp/yt-dlp</a>, and <a href="https://pypi.org/project/audio-separator/">https://pypi.org/project/audio-separator/</a>, and I&#39;ve managed to get yt-dlp working (albeit very slow) by using the pyinstaller binaries they provide on their github but I&#39;m struggling to get audio-separator working as using pyinstaller to bundle it seems to be very slow since its a larger package. Does anyone have any tips on how I could otherwise bundle it with my app? I&#39;ve seen other projects do similar things no problem like <a href="https://github.com/hedonhermdev/tune-prism">https://github.com/hedonhermdev/tune-prism</a>, so I&#39;m wondering if there&#39;s something I&#39;m missing</p> <p>maybe i could make the app automatically download python and the packages at runtime? i‚Äôm not sure, i just haven‚Äôt been able to find anything online for reference on this</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/iski4200"> /u/iski4200 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq8ohs/beginner_struggling_with_this_tauri_app_im/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq8ohs/beginner_struggling_with_this_tauri_app_im/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq87zk/starting_a_beginnerfriendly_book_club_this/" target="_blank">Starting a beginner-friendly book club this Saturday - what would make it actually valuable for new Rustaceans?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;ve been planning to start a community book club for &quot;The Rust Programming Language&quot; and want to make sure it&#39;s genuinely helpful for people learning Rust.</p> <p>From your experience (whether learning or helping others learn), what are the biggest pain points when going through the book?</p> <p>Things I&#39;m considering:</p> <p>- Live discussion sessions to clarify confusing concepts</p> <p>- Code review for the exercises</p> <p>- Project ideas that reinforce each chapter&#39;s concepts</p> <p>- Career guidance for those wanting to transition to Rust roles</p> <p>What would actually move the needle for you? What&#39;s missing from most learning resources?</p> <p>We&#39;re starting Chapter 1 this Saturday if anyone wants to be part of shaping how this evolves. Happy to share details if there&#39;s interest.</p> <p>Would love to hear your thoughts on making Rust more accessible! ü¶Ä</p> <p>EDIT: For those asking for the link, here‚Äôs the link to the discord <a href="https://discord.gg/SHyHp8WF">https://discord.gg/SHyHp8WF</a> and my X profile where I will be hosting the spaces every Saturday is @clearwatercoder </p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Puzzleheaded-Post682"> /u/Puzzleheaded-Post682 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq87zk/starting_a_beginnerfriendly_book_club_this/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq87zk/starting_a_beginnerfriendly_book_club_this/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq6w1s/placing_arguments/" target="_blank">Placing Arguments</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/sindisil"> /u/sindisil </a> <br/> <span><a href="https://blog.yoshuawuyts.com/placing-arguments/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq6w1s/placing_arguments/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq6pmk/ann_dvcdbg_v012_released_a_lightweight_no_std/" target="_blank">[ANN] dvcdbg v0.1.2 released: A lightweight no_std logging and diagnostic crate for embedded Rust</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hey everyone!</p> <p>I&#39;m excited to announce the release of <strong>dvcdbg v0.1.2</strong>!</p> <p><code>dvcdbg</code> is a lightweight, <code>no_std</code>-friendly logging and debugging crate designed to simplify the early stages of embedded development. It helps you get up and running faster, especially when a full debugger isn&#39;t an option.</p> <h1>What&#39;s new in v0.1.2?</h1> <p>This release introduces a new <code>macros</code> feature, bringing a bunch of new, helpful tools to your embedded projects. Just run <code>cargo add dvcdbg --features &quot;macros&quot;</code> to get started.</p> <ul> <li><code>quick_diag!</code>: A brand new macro that runs an all-in-one diagnostic workflow. It checks your serial connection and scans the I2C bus for connected devices in a single, convenient call.</li> <li><code>scan_i2c!</code>: Quickly find devices on your I2C bus. It&#39;s a lifesaver when you&#39;re setting up a new board.</li> <li><code>measure_cycles!</code>: Measure the execution time of a code block in CPU cycles or timestamps. Perfect for identifying performance bottlenecks.</li> <li><code>impl_fmt_write_for_serial!</code>: This is a powerful adapter macro that lets you use standard Rust formatting (<code>writeln!</code>, <code>write!</code>) with any <code>embedded-hal</code>-like serial driver. This is a game-changer for writing formatted debug output easily.</li> </ul> <h1>Why use dvcdbg?</h1> <p>When you&#39;re dealing with <code>no_std</code> environments, debugging can be a challenge. <code>dvcdbg</code> aims to solve this by providing simple, effective tools that are easy to integrate and have a minimal impact on your binary size.</p> <p>Your feedback and contributions are welcome! Feel free to check out the documentation on <a href="https://docs.rs/dvcdbg">docs.rs</a> and the code on <a href="https://github.com/p14c31355/dvcdbg">GitHub</a>.</p> <p>Thanks,</p> <p>p14c31355</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/k1y6k"> /u/k1y6k </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq6pmk/ann_dvcdbg_v012_released_a_lightweight_no_std/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq6pmk/ann_dvcdbg_v012_released_a_lightweight_no_std/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq6mva/hacky_a_simple_assembler_for_the_hack_language/" target="_blank">hacky - a simple assembler for the Hack language</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>hi all, i have been learning rust for the past couple months and i have been working through the nand2tetris course. i thought this would be a good opportunity to improve my skills so i chose to do all the projects in rust</p> <p>please provide any improvements i could make, i would really appreciate it. </p> <p>i am also looking to work on any open source projects to code more too. love this language so much</p> <p><a href="https://github.com/chids04/hacky">hacky</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/chids300"> /u/chids300 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq6mva/hacky_a_simple_assembler_for_the_hack_language/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq6mva/hacky_a_simple_assembler_for_the_hack_language/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq4woz/media_simple_optimization_not_so_safe/" target="_blank">[Media] Simple optimization (not so safe)</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Made a simple helper function that helps compiler to optimize code better.</p> <p>You can try yourself at <a href="http://godbolt.org/z/bb1xqhGhx">Godbolt</a>. </p> <p>On the left - simple division function as an example. Below you can see how it translates into assembly with a lot of checks: division by zero check, and whether numbers are actually 64-bit, or just 32-bits (to use lighter div).</p> <p>On the right - same division function but with some guarantees. Below you can see that all checks are removed and the function is plain and simple.</p> <p>I recommend it for small home projects only. For something serious better use crates like <a href="https://docs.rs/assume/latest/assume/">assume</a>.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/dtutubalin"> /u/dtutubalin </a> <br/> <span><a href="https://i.redd.it/115ncpgzc0jf1.png">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq4woz/media_simple_optimization_not_so_safe/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq4gvm/agentgateway_a_fast_feature_rich_kubernetes/" target="_blank">Agentgateway: a fast, feature rich, Kubernetes native proxy</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p><a href="https://github.com/agentgateway/agentgateway">Agentgateway</a> is a new, open source, proxy written in Rust that I am excited to share!</p> <p>Agentgateway was built by a team with a very long history of Envoy/Istio usage, when we found it was unable to keep up with the growing demands the AI is bringing to networking infrastructure, such as supporting LLM protocols (token based rate limits and monitoring, prompt guardrails, model failover, etc), MCP, A2A, etc.</p> <p>While its original motivation was AI-based, it has since grown into a full fledged, general purpose proxy. One of its major differentiators in this (very crowded!) space is its native Kubernetes support. Among the <a href="https://gateway-api.sigs.k8s.io/implementations/">40 implementations</a> of the Kubernetes Gateway API, agentgateway is the only one written in Rust (Linkerd supports the API, but only for service mesh, not as a gateway)! Additionally, it is the only proxy that was specifically designed for Kubernetes. This specialization has led to a <strong>dramatic</strong> performance improvement - on a <a href="https://github.com/howardjohn/gateway-api-bench?tab=readme-ov-file#route-scale">route scale test</a>, agentgateway uses only a fraction of the resources to handle the same load:</p> <p><a href="https://preview.redd.it/kcwehrwoa0jf1.png?width=3759&amp;format=png&amp;auto=webp&amp;s=abf2ee05517e9f16b27e2cdb0af015ef4940399d">https://preview.redd.it/kcwehrwoa0jf1.png?width=3759&amp;format=png&amp;auto=webp&amp;s=abf2ee05517e9f16b27e2cdb0af015ef4940399d</a></p> <p>From a technical standpoint, agentgateway builds upon the standard Rust favorites - Tokio, Hyper, Tonic, etc; <a href="https://github.com/cel-rust/cel-rust"><code>cel-rust</code></a> is also a <a href="https://github.com/cel-rust/cel-rust/discussions/175">big piece</a>. Some possibly controversial decisions:</p> <ul> <li>We didn&#39;t use Tower (or any other similar middleware style design). While these are quite useful for taking off-the-shelf re-usable layers, I felt implementing your own layers was excessively complicated. For example, compare a simple service to set a header as sensitive in <a href="https://github.com/tower-rs/tower-http/blob/8010caa90f316e62ffca3108021bde7ba06065fe/tower-http/src/sensitive_headers.rs#L299-L379">tower</a> vs <a href="https://github.com/agentgateway/agentgateway/blob/fe70179c50855693c9aba2e2f677771f0617efab/crates/agentgateway/src/proxy/httpproxy.rs#L1080-L1086">agentgateway</a> (of course, the tower one does <em>slightly</em> more).</li> <li>We didn&#39;t use <a href="https://github.com/cloudflare/pingora">Pingora</a>, which seems to be quite common with new Rust proxies these days. The feature-set Pingora does offer didn&#39;t overlap much with the features we want, and we wanted to fully own our stack rather than being tied to a (somewhat) opinionated library. Also, choosing Pingora means <em>not choosing</em> Hyper, which wasn&#39;t something we wanted given our past experience with Hyper.</li> </ul> <p>Both of these are great projects, they just weren&#39;t the right fit for us.</p> <p>If you&#39;d like to learn more, checkout the <a href="https://github.com/agentgateway/agentgateway/">Github repo</a> or feel free to ask any questions here! PS: we are hiring!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/_howardjohn"> /u/_howardjohn </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq4gvm/agentgateway_a_fast_feature_rich_kubernetes/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq4gvm/agentgateway_a_fast_feature_rich_kubernetes/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq3gn5/i_made_ferrix_a_crashresistant_crossplatform/" target="_blank">I made Ferrix ‚Äî a crash-resistant, cross-platform download manager [Rust] [Open Source]</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hey everyone,</p> <p>I started learning Rust a while back because I wanted to get deeper into programming and try something harder than what I usually do.<br/> What began as a small practice app somehow turned into Ferrix ‚Äî a download manager I actually use every day now.</p> <p>It‚Äôs built with Rust ,Tauri and NextJs and works on Windows, macOS, and Linux.<br/> Some of the things I wanted from day one:</p> <ul> <li>If the app crashes or your PC restarts, downloads should pick up right where they left off</li> <li>Save all progress and details in a database (SQLite) so nothing gets lost</li> <li>Make it easy to add plugins or new features later</li> <li>Support authentication, proxies, custom headers, and other advanced stuff</li> <li>Keep it fast and minimal, not bloated</li> </ul> <p>Under the hood it uses an event system with mpsc channels ‚Äî kind of like Redux with reducer + dispatch ‚Äî so everything goes through one place. Makes debugging and adding new features way easier.</p> <p>Ferrix will always be free, open-source, and ad-free. No telemetry, no ‚Äúpro‚Äù version.</p> <p>Next on my list is adding BitTorrent support so it can handle more than just direct downloads.</p> <p>If you want to check it out:<br/> üîó GitHub: <a href="https://github.com/mehranTaslimi/Ferrix">https://github.com/mehranTaslimi/Ferrix</a><br/> üåê Website: <a href="https://mehrantaslimi.github.io/Ferrix/">https://mehrantaslimi.github.io/Ferrix/</a></p> <p>Would love to hear what features you think every download manager should have.</p> <p><a href="https://preview.redd.it/eigyx94ovzif1.png?width=1022&amp;format=png&amp;auto=webp&amp;s=6f24fcb898a59fa8633f5d0dc13e8e9330fe29fd">Ferrix screenshot</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/CharacterGold3633"> /u/CharacterGold3633 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq3gn5/i_made_ferrix_a_crashresistant_crossplatform/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq3gn5/i_made_ferrix_a_crashresistant_crossplatform/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq3eqa/lifetime_issue_with_async_and_futuresjoin_all/" target="_blank">Lifetime issue with async and futures::join_all</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>During a small project of mine I stumbled on the following lifetime problem (broken down here without the unnecessary stuff).</p> <p>```rust</p> <h1>[tokio::main]</h1> <p>async fn main() { let no_lifetime_problem = vec![42];</p> <pre><code>let mut join_handles = vec![]; let lifetime_problem = vec![42]; for _ in 0..10 { join_handles.push(awesome_function(&amp;no_lifetime_problem, &amp;lifetime_problem)); } // join_handles is consumed and should be dropped futures::future::join_all(join_handles).await; // no_lifetime_problem and lifetime_problem should be dropped here </code></pre> <p>}</p> <p>async fn awesome_function(_a: &amp;[u8], _b: &amp;[u8]) {} ```</p> <p>Variables declared above the declaration of join_handles are fine, while variables declared below produce the following lifetime error:</p> <p><code> error[E0597]: `lifetime_problem` does not live long enough --&gt; src/main.rs:10:66 | 7 | let lifetime_problem = vec![42]; | ---------------- binding `lifetime_problem` declared here ... 10 | join_handles.push(awesome_function(&amp;no_lifetime_problem, &amp;lifetime_problem)); | ^^^^^^^^^^^^^^^^^ borrowed value does not live long enough ... 17 | } | - | | | `lifetime_problem` dropped here while still borrowed | borrow might be used here, when `join_handles` is dropped and runs the `Drop` code for type `Vec` | = note: values in a scope are dropped in the opposite order they are defined </code></p> <p>To my understanding join_handles should be dropped by join_all as it takes ownership of it, while lifetime_problem should be dropped at the end of the function. This is clearly not the case, so I would be interested in an explanation.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Graukolos"> /u/Graukolos </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq3eqa/lifetime_issue_with_async_and_futuresjoin_all/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq3eqa/lifetime_issue_with_async_and_futuresjoin_all/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mq1nxs/we_built_an_infra_as_code_localfirst_data/" target="_blank">We built an infra as code local-first data engineering platform in Rust</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>For just over a year now I&#39;ve been contributing to an open source project called Moose. Moose is written in Rust that supports building applications in TypeScript and Python that lets you define your complete analytical backend‚Äîstreaming, storage, and APIs‚Äîall directly in your code. It‚Äôs an &quot;infrastructure from code&quot; approach; you define your data models, and Moose automatically provisions the underlying infrastructure.</p> <p>Checkout the code! Contributors wanted: <a href="https://github.com/514-labs/moose">https://github.com/514-labs/moose</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/cjus"> /u/cjus </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mq1nxs/we_built_an_infra_as_code_localfirst_data/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mq1nxs/we_built_an_infra_as_code_localfirst_data/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mpyrp9/introducing_rustbased_rag_and_ann/" target="_blank">Introducing RUST-based RAG and ANN</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>So, I&#39;ve been working on a few projects lately. One is an MMO which has required me to construct my own server back-end that I&#39;m working on in C++. However, that&#39;s not what this post is about. This post is about raggedy_anndy. I tried to create a Rust-based semantic memory ingestion system that used FAISS to recall vectors pulled from a persistent database set. I kept running into issues with FAISS C-API and <a href="http://FFI.rs">FFI.rs</a>, so I decided that there had to be a better way. Along came raggedy_anndy, a rust-based RAG + ANN system with IVF, PQ, and other features that aims to produce &gt;=90% certainty using Wilson 95% lower bound vs exact flat in its searches. The idea behind raggedy_anndy and the semantic memory ingestion is to create an AI system that interacts with the sever-authoritative physics layer and can create its own pathmaking, and learn from player cheese mechanics.</p> <p>Below I have attached my repo, I invite you to do the following tests and show me your results. I&#39;m genuinely looking for feedback to improve the system before release, and am actively working on a browser-based UI.</p> <p><a href="https://github.com/TheToastiest/raggedy_anndy">raggedy_anndy/README.md at master ¬∑ TheToastiest/raggedy_anndy</a></p> <p>.\sweep --backend ivf-flat --n 20000 --dim 256 --metric cosine --k 10 --queries 1000 --warmup 200 --seed-data 42 --seed-queries 999 --target-lb 0.92 --enforce --nprobe 192 Dataset built in 24 ms (N=20000, dim=256, metric=Cosine) nprobe refine recall lb95 p50(ms) p95(ms) QPS 192 200 0.940 0.936 5.052 5.674 196.1 192 300 0.940 0.936 5.800 10.491 154.7 192 400 0.940 0.936 5.674 10.345 157.2</p> <p>.\freeze --backend ivf-pq --n 50000 --dim 256 --metric cosine --k 10 --nlist 2048 --nprobe 1280 --refine 1200 --m 128 --nbits 8 --iters 60 --opq --opq-mode pca-perm --opq-sweeps 8 --queries 200 --warmup 5 --seed-data 42 --seed-queries 999 --seed-kmeans 7 --min-lb95 0.90 --min-recall 0.90 --max-p95-ms 40 --threads 2 --intra 8</p> <p>recall=0.935 lb95=0.923 p50=32.755ms p90=34.930ms p95=36.182ms p99=37.935ms QPS=30.9 (build 676504 ms)</p> <p>While I understand it is not as fast as FAISS right now, the goal was &gt;=90% Certainty before working on performance, latency, and further machine learning.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/ThaToastiest"> /u/ThaToastiest </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mpyrp9/introducing_rustbased_rag_and_ann/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mpyrp9/introducing_rustbased_rag_and_ann/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mpy67g/one_week_after_starting_rust/" target="_blank">One Week After Starting Rust!</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I started learning Rust exactly one week ago, and here&#39;s my experience so far.</p> <p>DAY 1 was hell, or DAY 2 for that matter, and I don&#39;t mean by how difficult the syntax or the concepts were but rather how uncomfortable I was doing something new. Something I wasn&#39;t familiar with, I just wanted to quit so badly. </p> <p>And in fact, I did after hearing most concepts in Rust; I just closed all the lectures, the code editor, everything, just so I could get out. I felt relieved after that, as if I had made a survival decision. I had never felt so uncomfortable learning something new. Maybe I was just doing the same things over and over again‚ÄîNext.js and TypeScript with a few new things like using AWS in certain projects, but only incremental changes. </p> <p>Nothing really made me uncomfortable like I felt in the first 2 days. The next morning, on Day 3, I just heard this voice say, &quot;How are you going to feel in a week if you continue?&quot; And right then, I knew that the difficulties I feel now would have gone; I would have familiarized myself with the syntax. I had understood quite a few concepts, even concepts like lifetimes that could take a lifetime. :) </p> <p>So, I decided to continue. In the past few days, I wrote Rust, solved DSA problems to practice, made a CLI app, and today I will be writing tests and building a web server soon. After going through last week, I realized one thing: nothing is as hard as other people say it is. They make it seem difficult, but when we try it ourselves, we see it isn&#39;t much. </p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/BadGroundbreaking587"> /u/BadGroundbreaking587 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mpy67g/one_week_after_starting_rust/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mpy67g/one_week_after_starting_rust/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mpv0fi/beyond_why_rust_needs_try_for_composable_effects/" target="_blank">Beyond `?`: Why Rust Needs `try` for Composable Effects</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Foreword: As a programmer who once disliked the idea of a <code>try</code> keyword, I want to share my personal journey of realizing its immense value‚Äîespecially when dealing with multiple effects.</p> <p>And of course, TL;DR:</p> <ol> <li>If asynchrony as an effect is modelled by both a monad (<code>Future</code>) and a keyword (<code>async</code>), then we should give the other two effects, iteration and fallibility the same treatment to improve the consistency of the language design.</li> <li>When effects are combined and the monads modelling them are layered, manually transforming them is unbelievably challenging and using multiple effect keywords together against them can be helpful.</li> </ol> <h1>What doesn&#39;t Kill Me Makes me Pass out</h1> <p>I was writing a scraper a few days ago. It downloads files from the internet and reports its progress in real time. I thought to myself well this is a very good opportunity for me to try out asynchronous iterators! Because when making web requests you&#39;d probably use <code>async</code>, and when you download content from the internet you download them chunk by chunk. It&#39;s natural to use iterators to model this behavior.</p> <p>Oh and there&#39;s one more thing: when doing IO, errors can happen anytime, thus it&#39;s not any asynchronous iterator, but one that yields <code>Result</code>s!</p> <p>Now my job is to implement this thing:</p> <pre><code>fn go_ahead_and_write_a_downloader_for_me( from: String, to: String, ) -&gt; impl Stream&lt;Item = Result&lt;usize&gt;&gt; { return Downloader { from, to, state: State::Init, }; struct Downloader { from: String, to: String, state: State, } enum State { Init, // and more } impl Stream for Downloader { type Item = Result&lt;usize&gt;; fn poll_next(self: Pin&lt;&amp;mut Self&gt;, cx: &amp;mut Context&lt;&#39;_&gt;) -&gt; Poll&lt;Option&lt;Result&lt;usize&gt;&gt;&gt; { todo!() } } } </code></pre> <p>But how? <code>Stream::poll_next</code> is not an <code>async fn</code> thus I can not use <code>await</code> inside of it. An iterator itself is also an state machine thus it&#39;s a state machine over another state machine (<code>Future</code>) that I need to manually implement. Most importantly <code>Result</code> is nested in the core of the return type thus I can not use <code>?</code> to propagate the errors!</p> <p>I tried to implement this thing that night. I passed out.</p> <h1>But I Thought ? Alone is Already Good Enough for Error Handling?</h1> <p>More on my passing-out story later. Let&#39;s focus on something simpler now.</p> <p>A common argument against <code>try</code> is that <code>?</code> already gets the job done. Explicitly writing out your return type as <code>Result</code> and a bit of <code>Ok</code>/<code>Err</code>-wrapping isn&#39;t that big of an issue. We absolutely don&#39;t need to introduce a new keyword just to reduce a few key storkes.</p> <p>But you can apply the same argument to <code>async</code>: we don&#39;t need the <code>async</code> keyword. Just let <code>await</code> handle the mapping from <code>Future</code>s to <code>Future</code>s, with some <code>ready</code>/<code>pending</code>-wrapping, the job gets done!</p> <pre><code>fn try_sth() -&gt; Result&lt;()&gt; { Ok(()) } fn wait_sth() -&gt; impl Future&lt;Output = ()&gt; { () } fn results_are_ok_actually() -&gt; Result&lt;()&gt; { try_sth()?; Ok(()) } fn an_alternative_universe_where_futures_are_like_results() -&gt; impl Future&lt;Output = ()&gt; { wait_sth().await; future::ready(()) } </code></pre> <p>Not very elegant! I bet none of you enjoys writing <code>impl Future&lt;Output = Whatever&gt;</code>. So the moral of the story is that making <code>Future</code>s and <code>Result</code>s symmetrical is a BAD idea - except it&#39;s not, leaving them asymmetrical is not any better.</p> <pre><code>fn asymmetry_between_block_and_closure() { let foo = async { wait_sth().await; wait_sth().await; wait_sth().await; }; let bar: Result&lt;()&gt; = (|| { try_sth()?; try_sth()?; try_sth()?; Ok(()) })(); } </code></pre> <p>Is this immediately-invoked closure familiar to you? Does it remind you of JavaScript? Hell no, I thought we&#39;re writing Rust!</p> <p>The inconsistency has been very clear: although fallibility and asynchrony are both effects, while asynchrony is given both a monad and a keyword, we can only represent fallibility as monads, making certain patterns, although no so frequently used, unergonomic to write. It turns out making <code>Future</code>s and <code>Result</code>s symmetrical is actually a GOOD idea, we just have to do it the other way around: give fallibility a keyword: <code>try</code>.</p> <pre><code>fn look_how_beautiful_are_they() { let foo = async { wait_sth().await; wait_sth().await; wait_sth().await; }; let bar = try { try_sth()?; try_sth()?; try_sth()?; }; } </code></pre> <h1>It&#39;s not Worthy to Bring a Notorious Keyword into Rust Just for Aesthetic</h1> <p>Another big downside of not having <code>try</code> is that, <code>?</code> only works in a function that directly returns a <code>Result</code>. If the <code>Result</code> is nested in the return type, <code>?</code> stops working. A good example is <code>Iterator</code>s. Imagine you want an <code>Iterator</code> that may fail, i.e., stops yielding more items once it runs into an <code>Error</code>. Notice that <code>?</code> does not work here because <code>Iterator::next</code> returns <code>Option&lt;Result&lt;T&gt;&gt;</code> but not <code>Result</code> itself. You have to <code>match</code> the <code>Result</code> inside <code>next</code> and implement the early-exhaust pattern manually.</p> <pre><code>fn your_true_enemies_are_iterators() -&gt; impl Iterator&lt;Item = Result&lt;()&gt;&gt; { struct TryUntilFailed { exhausted: bool, } impl Iterator for TryUntilFailed { type Item = Result&lt;()&gt;; fn next(&amp;mut self) -&gt; Option&lt;Result&lt;()&gt;&gt; { if self.exhausted { None } else { match try_sth() { Ok(sth) =&gt; Some(Ok(sth)), Err(e) =&gt; { self.exhausted = true; Some(Err(e)) } } } } } TryUntilFailed { exhausted: false } } </code></pre> <p>This is no longer an issue about aesthetic. The <code>?</code> operator is just disabled. With the <code>gen</code> keyword (available in nightly) that models iterators, we can make the code above simpler, but notice that the ability to <code>?</code> your way through is still taken from you:</p> <pre><code>fn your_true_enemies_are_iterators() -&gt; impl Iterator&lt;Item = Result&lt;()&gt;&gt; { gen { match try_sth() { Ok(sth) =&gt; { yield Ok(sth) } Err(e) =&gt; { yield Err(e); break; } } } } </code></pre> <p>You might still insist that one tiny <code>match</code> block and a little <code>exhausted</code> flag get around this so not having <code>try</code> (or even <code>gen</code>) is not that big of a problem. That&#39;s why I will show you something way worse in the next section.</p> <h1>It&#39;s Your Turn to Pass out</h1> <p>Back to my passing-out story: actually there&#39;s nothing more to tell about the story itself, because I just passed out. However the reason behind me passing out is worth pointing out: when I was trying to making failable web requests one after another asynchronously, I was in fact fighting against 3 combined effects in the form of a triple-layered monad onion. The monads united together firmly and <em>expelliarmus</em>-ed all the syntax sugars (<code>await</code>, <code>for in</code> and <code>?</code>) I love, exposing the fact that I am secretly an inferior programmer who can&#39;t make sense of state machines. Battling against <code>Poll&lt;Option&lt;Result&lt;T&gt;&gt;&gt;</code> with bare hands is like Mission: Impossible, except I am not Tom Cruise.</p> <p>To illustrate the complexity of the challenge better, let&#39;s look at what a full, manual implementation of the state machine would entail. Be aware, you might pass out just reading the code (<del>written by Tom Cruise, apparently</del>):</p> <pre><code>fn try_not_to_pass_out(from: String, to: String) -&gt; impl Stream&lt;Item = Result&lt;usize&gt;&gt; { return Downloader { from, to, state: State::Init, }; struct Downloader { from: String, to: String, state: State, } enum State { Init, SendingRequest { fut: BoxFuture&lt;&#39;static, reqwest::Result&lt;Response&gt;&gt;, }, OpeningFile { resp: Response, open_fut: BoxFuture&lt;&#39;static, io::Result&lt;File&gt;&gt;, }, ReadingChunk { fut: BoxFuture&lt;&#39;static, (reqwest::Result&lt;Option&lt;Bytes&gt;&gt;, Response, File)&gt;, }, WritingChunk { fut: BoxFuture&lt;&#39;static, (io::Result&lt;()&gt;, Response, File)&gt;, chunk_len: usize, }, Finished, } impl Stream for Downloader { type Item = Result&lt;usize&gt;; fn poll_next(self: Pin&lt;&amp;mut Self&gt;, cx: &amp;mut Context&lt;&#39;_&gt;) -&gt; Poll&lt;Option&lt;Self::Item&gt;&gt; { let this = self.get_mut(); loop { let current_state = std::mem::replace(&amp;mut this.state, State::Finished); match current_state { State::Init =&gt; { let client = Client::new(); let fut = client.get(&amp;this.from).send(); this.state = State::SendingRequest { fut: Box::pin(fut) }; continue; } State::SendingRequest { mut fut } =&gt; { match fut.as_mut().poll(cx) { Poll::Pending =&gt; { this.state = State::SendingRequest { fut }; return Poll::Pending; } Poll::Ready(Ok(resp)) =&gt; { let to_owned = this.to.clone(); let open_fut = async move { OpenOptions::new() .create(true) .write(true) .truncate(true) .open(to_owned) .await }; this.state = State::OpeningFile { resp, open_fut: Box::pin(open_fut), }; continue; } Poll::Ready(Err(e)) =&gt; { this.state = State::Finished; return Poll::Ready(Some(Err(e.into()))); } } } State::OpeningFile { resp, mut open_fut } =&gt; { match open_fut.as_mut().poll(cx) { Poll::Pending =&gt; { this.state = State::OpeningFile { resp, open_fut }; return Poll::Pending; } Poll::Ready(Ok(file)) =&gt; { let mut resp = resp; let fut = async move { let chunk_res = resp.chunk().await; (chunk_res, resp, file) }; this.state = State::ReadingChunk { fut: Box::pin(fut) }; continue; } Poll::Ready(Err(e)) =&gt; { this.state = State::Finished; return Poll::Ready(Some(Err(e.into()))); } } } State::ReadingChunk { mut fut } =&gt; { match fut.as_mut().poll(cx) { Poll::Pending =&gt; { this.state = State::ReadingChunk { fut }; return Poll::Pending; } Poll::Ready((Ok(Some(chunk)), resp, mut file)) =&gt; { let chunk_len = chunk.len(); let write_fut = async move { let write_res = file.write_all(&amp;chunk).await; (write_res, resp, file) }; this.state = State::WritingChunk { fut: Box::pin(write_fut), chunk_len, }; continue; } Poll::Ready((Ok(None), _, _)) =&gt; { this.state = State::Finished; return Poll::Ready(None); } Poll::Ready((Err(e), _, _)) =&gt; { this.state = State::Finished; return Poll::Ready(Some(Err(e.into()))); } } } State::WritingChunk { mut fut, chunk_len } =&gt; { match fut.as_mut().poll(cx) { Poll::Pending =&gt; { this.state = State::WritingChunk { fut, chunk_len }; return Poll::Pending; } Poll::Ready((Ok(()), mut resp, file)) =&gt; { let next_read_fut = async move { let chunk_res = resp.chunk().await; (chunk_res, resp, file) }; this.state = State::ReadingChunk { fut: Box::pin(next_read_fut) }; return Poll::Ready(Some(Ok(chunk_len))); } Poll::Ready((Err(e), _, _)) =&gt; { this.state = State::Finished; return Poll::Ready(Some(Err(e.into()))); } } } State::Finished =&gt; { return Poll::Ready(None); } } } } } } </code></pre> <p>I will end this section here to give you some time to breathe (or recover from coma).</p> <h1>Keywords of Effects, Unite!</h1> <p>Let&#39;s go back to the claim I made in TL;DR a bit: Not letting an effect have its dedicated keyword not only breaks the consistency of the language design, but also makes combined effects tricky to handle, because layered monads are tricky to deal with.</p> <p>You probably realized that there&#39;s one thing I missed out in that claim: How can more effect keywords handle combined effects more efficiently? When monads unite, they disable the syntax sugars. Do I expect that when <code>async</code>/<code>try</code>/<code>gen</code> unite against the monads, they magically revive the syntax sugars, and generate codes that handle the combined effects for us?</p> <p>My answer is yes:</p> <pre><code>fn there_are_some_compiler_magic_in_it(from: String, to: String) -&gt; impl Stream&lt;Item = Result&lt;usize&gt;&gt; { async try gen { let client = Client::new(); let resp = client.get(from).send().await?; let file = OpenOptions::new().create(true).write(true).open(to).await?; for chunk in resp.chunk() { let chunk = chunk.await?; file.write_all(&amp;chunk); yield chunk.len(); } } } </code></pre> <p>Just look how straight forward the code is: It&#39;s a piece of code that <code>asy</code>nchronously <code>try</code>s to <code>gen</code>erate multiple <code>usize</code>s. You might say that&#39;s ridiculous. I can&#39;t just sit there and expect the language team will pull out such magic from their pockets! I agree that sounds like a daydream, but suprisingly we already have something almost identical: <code>async_stream::try_stream</code>. This is the example from the official doc page:</p> <pre><code>fn bind_and_accept(addr: SocketAddr) -&gt; impl Stream&lt;Item = io::Result&lt;TcpStream&gt;&gt; { try_stream! { let mut listener = TcpListener::bind(addr).await?; loop { let (stream, addr) = listener.accept().await?; println!(&quot;received on {:?}&quot;, addr); yield stream; } } } </code></pre> <p>Please look at the two pieces of code above. Do you notice that they are essentially doing the same thing? I ended up writing my scraper with <code>try_stream</code>. It worked like a charm (hats off to the author). A few days later I was reading RFCs and blog posts about <code>try</code> and <code>gen</code>, again thinking why in the world do we need them, and then a big EUREKA moment hit me: isn&#39;t <code>try_stream!</code> just an <code>async try gen</code> block in disguise? If I need <code>try_stream!</code> to prevent me from passing out, how am I qualified to say that I don&#39;t need any of <code>async</code>/<code>try</code>/<code>gen</code>?</p> <p>And that concludes my post: Yes, we need <code>try</code>. When effects are combined together, forging <code>try</code> with other keywords of effects gives you a sharp knife that cuts through the monad-onions like nothing. However before that happens, we need to put aside our instinctual loath towards <code>try</code> resulting from the torture of <code>catch</code>ing we&#39;ve been through in other languages, and admit that <code>try</code> alone has its right to exist.</p> <p>I am in no position to be educating anyone since I am just a fairly naive programmer. This post is more of a confession about my initial biased dislike for the <code>try</code> keyword, rather than some passionate sermon. I just hope my points don&#39;t come across as arrogant!</p> <p><strong>Bonus: We Could Even Do it at the Function Level</strong></p> <p>Considered that you can, and usually will, use <code>async</code> at function level, it makes sense that we also use <code>gen</code> and <code>try</code> that way too. But because <code>try</code> is actually generic (it throws different kinds of <code>Error</code>s, and <code>None</code> sometimes), we need to re-phrase it a bit, maybe by saying a function <code>throws</code> something. Now you can even write:</p> <pre><code>async gen fn to_make_it_more_sacrilegious(from: String, to: String) -&gt; usize throws Error { let client = Client::new(); let resp = client.get(from).send().await?; let file = OpenOptions::new().create(true).write(true).open(to).await?; for chunk in resp.chunk() { let chunk = chunk.await?; file.write_all(&amp;chunk); yield chunk.len(); } } </code></pre> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Dec_32"> /u/Dec_32 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mpv0fi/beyond_why_rust_needs_try_for_composable_effects/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mpv0fi/beyond_why_rust_needs_try_for_composable_effects/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mptg6z/announcing_celcxx_020_a_modern_typesafe_rust/" target="_blank">Announcing cel-cxx 0.2.0: A Modern, Type-Safe Rust library for Google's CEL</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hey Rustaceans! ü¶Ä</p> <p>I&#39;m excited to share <strong>cel-cxx 0.2.0</strong>, a high-performance Rust interface for <a href="https://github.com/google/cel-spec">Common Expression Language (CEL)</a> that I&#39;ve been working on.</p> <h1>What is CEL?</h1> <p>CEL is Google&#39;s expression language used in Google Cloud, Kubernetes, and many other systems for safe, fast evaluation of expressions. Think of it as a sandboxed, type-safe way to evaluate user-provided expressions in your Rust applications.</p> <h1>Why cel-cxx over pure Rust implementations?</h1> <p>While there are some pure Rust CEL implementations, <strong>cel-cxx</strong> offers significant advantages:</p> <h1>üéØ More Complete CEL Features &amp; Specification Support</h1> <ul> <li><strong>Built on Google&#39;s Reference Implementation</strong> - Direct bindings to the official CEL-CPP that powers Google Cloud</li> <li><strong>Full CEL Standard Library</strong> - Complete implementation of all standard functions (strings, lists, maps, math, etc.)</li> <li><strong>8 Official CEL Extensions</strong> - Math, Strings, Lists, Sets, Regex, Encoders, Bindings, Protocol Buffers</li> <li><strong>100% Specification Compliance</strong> - Guaranteed compatibility with Google&#39;s CEL spec and behavior</li> <li><strong>Production Proven</strong> - Same engine used in Google Cloud, Kubernetes, and enterprise systems</li> </ul> <h1>üöÄ Superior Interface Design &amp; Code Quality</h1> <ul> <li><strong>Zero-Annotation Function Registration</strong> - Register Rust functions without any special attributes or macros</li> <li><strong>Automatic Type Inference</strong> - Smart type conversion between Rust and CEL types</li> <li><strong>Builder Pattern APIs</strong> - Clean, ergonomic environment construction</li> <li><strong>Async-First Architecture</strong> - Seamless integration with Tokio and async-std</li> <li><strong>Memory Safety</strong> - Rust ownership system prevents common FFI bugs</li> <li><strong>Comprehensive Error Handling</strong> - Detailed error messages and debugging support</li> </ul> <h1>What&#39;s New in 0.2.0?</h1> <p>This major release brings:</p> <ul> <li><strong>Complete CEL Standard Library</strong> implementation</li> <li><strong>8 CEL Extensions</strong> (Math, Strings, Lists, Sets, Regex, etc.)</li> <li><strong>Optional Types</strong> support with safe navigation</li> <li><strong>Comprehensive Documentation</strong> in English and Chinese</li> <li><strong>Full Test Coverage</strong> and practical examples</li> </ul> <h1>Quick Examples</h1> <h1>Zero-Annotation Function Registration &amp; CEL Standard Library</h1> <pre><code>use cel_cxx::*; let env = Env::builder() .with_ext_strings(true) .declare_variable::&lt;String&gt;(&quot;name&quot;)? .declare_variable::&lt;i64&gt;(&quot;age&quot;)? .declare_variable::&lt;Vec&lt;String&gt;&gt;(&quot;hobbies&quot;)? // Zero annotation - just register your Rust functions directly! .register_global_function(&quot;greet&quot;, |name: &amp;str| format!(&quot;Hello, {name}!&quot;))? .register_global_function(&quot;is_adult&quot;, |age: i64| age &gt;= 18)? .register_global_function(&quot;format_hobbies&quot;, |hobbies: Vec&lt;&amp;str&gt;| hobbies.join(&quot;, &quot;))? .build()?; let activation = Activation::new() .bind_variable(&quot;name&quot;, &quot;Alice&quot;)? .bind_variable(&quot;age&quot;, 25i64)? .bind_variable(&quot;hobbies&quot;, vec![&quot;reading&quot;, &quot;swimming&quot;, &quot;coding&quot;])?; // Mix custom functions with CEL standard library let program = env.compile(&quot;&#39;Name: %s, Age: %d&#39;.format([name, age]) + &#39; - &#39; + format_hobbies(hobbies)&quot;)?; let result = program.evaluate(&amp;activation)?; // Result: &quot;Name: Alice, Age: 25 - reading, swimming, coding&quot; </code></pre> <h1>Use Cases</h1> <p>Perfect for:</p> <ul> <li>Configuration validation</li> <li>Policy engines</li> <li>Rule-based systems</li> <li>User expression evaluation</li> <li>API filtering and querying</li> <li>Kubernetes admission controllers</li> <li>Google Cloud policy enforcement</li> </ul> <h1>Links</h1> <ul> <li><strong>Crate</strong>: <a href="https://crates.io/crates/cel-cxx">crates.io/crates/cel-cxx</a></li> <li><strong>Docs</strong>: <a href="https://docs.rs/cel-cxx">docs.rs/cel-cxx</a></li> <li><strong>GitHub</strong>: <a href="https://github.com/xjasonli/cel-cxx">github.com/xjasonli/cel-cxx</a></li> </ul> <p>I&#39;d love to hear your feedback and see how you might use this in your projects! Any questions about the implementation, CEL integration, or how it compares to pure Rust alternatives?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/xjasonli"> /u/xjasonli </a> <br/> <span><a href="https://github.com/xjasonli/cel-cxx">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mptg6z/announcing_celcxx_020_a_modern_typesafe_rust/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1mprqw6/really_wish_rust_had_variadic_generics_and_named/" target="_blank">really wish Rust had variadic generics and named arguments for UI development</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Feels like the named args RFC isn‚Äôt getting much attention, and variadics are stuck. After trying different UI kits and both compose- and builder-style APIs, I‚Äôve realized that variadics + named args could cut down a lot on macro DSL usage‚ÄîDart does this really well. But with the current focus on allocators and async traits, I doubt we‚Äôll see these features anytime soon. ÔºöÔºà</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/kouhe3"> /u/kouhe3 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1mprqw6/really_wish_rust_had_variadic_generics_and_named/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1mprqw6/really_wish_rust_had_variadic_generics_and_named/">[comments]</a></span></div>
          </li>
  
        </ul>
  
        <h3 class="subreddit">r/golang</h3>
        <ul class="item-list">
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mql264/my_4stage_pprof_system_that_actually_works/" target="_blank">My 4-Stage pprof System That Actually Works</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I did a lot of performance-related work this year and learned a few things I thought of sharing.</p> <p>I&#39;ve developed a 4-stage profiling framework:</p> <ol> <li><strong>System Entry-Point Cleanup</strong> - Low-hanging fruit first</li> <li><strong>Function Microbenchmarks</strong> - Line-level analysis</li> <li><strong>Path Profiling</strong> - Complex execution flows</li> <li><strong>Realistic Workloads</strong> - Production validation</li> </ol> <p>The key: <strong>knowing which stage you&#39;re in</strong>. It stops you from jumping around randomly and wasting time on details that don&#39;t matter yet.</p> <p>Any feedback or additions to it would be great.</p> <p><a href="https://alexsanderhamir.medium.com/how-i-profile-go-code-with-pprof-791811ccdf2a">Medium Link</a><br/> <a href="https://freedium.cfd/https://alexsanderhamir.medium.com/how-i-profile-go-code-with-pprof-791811ccdf2a">Freedium Link</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Safe-Programmer2826"> /u/Safe-Programmer2826 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mql264/my_4stage_pprof_system_that_actually_works/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mql264/my_4stage_pprof_system_that_actually_works/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mqjd7d/what_if_a_company_wants_a_good_framework_to_build/" target="_blank">what if a company wants a good framework to build with golang ? to have one file structure and opiniated system ? what to choose ?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>x</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/HosMercury"> /u/HosMercury </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mqjd7d/what_if_a_company_wants_a_good_framework_to_build/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mqjd7d/what_if_a_company_wants_a_good_framework_to_build/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mqi1bj/sqlite_http_cache_extension_and_http_proxy/" target="_blank">SQLite http cache extension and http proxy</a>
            <div class="item-content"><table> <tr><td> <a href="https://www.reddit.com/r/golang/comments/1mqi1bj/sqlite_http_cache_extension_and_http_proxy/">  </a> </td><td> &#32; submitted by &#32; <a href="https://www.reddit.com/user/SuccessfulReality315"> /u/SuccessfulReality315 </a> <br/> <span><a href="https://github.com/walterwanderley/sqlite-http-cache">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mqi1bj/sqlite_http_cache_extension_and_http_proxy/">[comments]</a></span> </td></tr></table></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mqf86s/deadlock_when_updating_productionmachine_and/" target="_blank">Deadlock when updating ProductionMachine and EmployeeAssignments in same transaction (Go + PostgreSQL)</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hi everyone,</p> <p>I&#39;m implementing a transactional update pattern for my <strong>ProductionMachine aggregate</strong> in Go. Any event that changes the machine&#39;s state generates <strong>production, downtime, and history records</strong>. Sometimes, I also need to update the <strong>employees assigned</strong> to the machine (<code>production_machines_employee_assignments</code>). The current state is stored in <code>production_machines_current_states</code>. Other related tables are:</p> <ul> <li><code>production_machines_downtime_records</code></li> <li><code>production_machines_historical_states</code></li> <li><code>production_machines_production_records</code></li> <li><code>production_machines_rework_records</code></li> </ul> <p>I&#39;m not following DDD, I just based myself on the concept of aggregates to come up with a solution for this transactional persistence that my system requires., but I&#39;m using a <code>updateFn</code> <strong>transactional pattern</strong> inspired by Threedotslab, :</p> <pre><code>func (r *Repository) Save(ctx context.Context, machineID int, updateFn func(*entities.ProductionMachine) error) error { return r.WithTransaction(ctx, func(txRepo entities.ProductionRepository) error { pm, err := txRepo.GetProductionMachineCurrentStateByMachineIDForUpdate(ctx, machineID) if err != nil { return err } assignments, err := txRepo.ListActiveAssignmentsByMachineIDForUpdate(ctx, machineID) if err != nil &amp;&amp; !errorhandler.IsNotFound(err) { return err } pm.EmployeeAssignments = assignments if err = updateFn(&amp;pm); err != nil { return err } for _, a := range pm.EmployeeAssignments { if a.ID &gt; 0 { // &lt;-- deadlock happens here err = txRepo.UpdateAssignmentEndTimeByMachineIDAndOrderID(ctx, machineID, a.ProductionOrderID, a.EndTime) } else { err = txRepo.InsertProductionMachineEmployeeAssignment(ctx, a) } if err != nil { return err } } _, err = txRepo.UpdateProductionMachineStateByMachineID(ctx, pm.Machine.ID, pm) if err != nil { return err } if pm.ProductionRecord != nil { _ = txRepo.InsertProductionMachineProductionRecord(ctx, *pm.ProductionRecord) } if pm.DowntimeRecord != nil { _ = txRepo.InsertProductionMachineDowntimeRecord(ctx, *pm.DowntimeRecord) } if pm.ProductionMachineHistoryRecord != nil { _ = txRepo.InsertProductionMachineHistoryRecord(ctx, *pm.ProductionMachineHistoryRecord) } return nil }) } </code></pre> <p><strong>Service example:</strong></p> <pre><code>func (s *Service) UpdateCurrentStateToOffline(ctx context.Context, machineCode string) error { machine, err := s.machineService.GetMachineByCode(ctx, machineCode) if err != nil { return err } return s.repository.Save(ctx, machine.ID, func(pm *entities.ProductionMachine) error { endTime := time.Now() if pm.State == entities.InProduction { r := pm.CreateProductionRecord(endTime) pm.ProductionRecord = &amp;r } else { r := pm.CreateDowntimeRecord(endTime) pm.DowntimeRecord = &amp;r } r := pm.CreateHistoryRecord(endTime) pm.ProductionMachineHistoryRecord = &amp;r sm := statemachine.NewStateMachine(pm) return sm.StartOfflineProduction() }) } </code></pre> <p><strong>Problem:</strong></p> <ul> <li>I only have <strong>1 machine</strong>, but when this function is called by a <strong>cronjob</strong>, it sometimes deadlocks <strong>on the same transaction</strong>.</li> <li>Commenting out the loop that updates/inserts <code>EmployeeAssignments</code> avoids the deadlock.</li> <li><code>SELECT ... FOR UPDATE</code> is used in <code>ListActiveAssignmentsByMachineIDForUpdate</code>, which may be causing a self-lock.</li> </ul> <p><strong>Questions:</strong></p> <ol> <li>Is this a valid approach for transactional updates of aggregates in Go?</li> <li>How can I safely update <code>EmployeeAssignments</code> <strong>in the same transaction</strong> without causing this lock issue?</li> <li>Are there better patterns to handle multiple dependent tables transactionally with PostgreSQL?</li> </ol> <p>Any help or suggestions will be very welcome!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Low_Expert_5650"> /u/Low_Expert_5650 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mqf86s/deadlock_when_updating_productionmachine_and/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mqf86s/deadlock_when_updating_productionmachine_and/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mqf1p0/we_rewrote_our_ingest_pipeline_from_python_to_go/" target="_blank">We rewrote our ingest pipeline from Python to Go ‚Äî here‚Äôs what we learned</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>We built Telemetry Harbor, a time-series data platform, starting with Python FastAPI for speed of prototyping. It worked well for validation‚Ä¶ until performance became the bottleneck.</p> <p>We were hitting 800% CPU spikes, crashes, and unpredictable behavior under load. After evaluating Rust vs Go, we chose Go for its balance of performance and development speed.</p> <p>The results: ‚Ä¢ 10x efficiency improvement ‚Ä¢ Stable CPU under heavy load (~60% vs Python‚Äôs 800% spikes) ‚Ä¢ No more cascading failures ‚Ä¢ Strict type safety catching data issues Python let through</p> <p>Key lessons: 1. Prototype fast, but know when to rewrite. 2. Predictable performance matters as much as raw speed. 3. Strict typing prevents subtle data corruption. 4. Sometimes rejecting bad data is better than silently fixing it.</p> <p>Full write-up with technical details </p> <p><a href="https://telemetryharbor.com/blog/from-python-to-go-why-we-rewrote-our-ingest-pipeline-at-telemetry-harbor/">https://telemetryharbor.com/blog/from-python-to-go-why-we-rewrote-our-ingest-pipeline-at-telemetry-harbor/</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/squadfi"> /u/squadfi </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mqf1p0/we_rewrote_our_ingest_pipeline_from_python_to_go/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mqf1p0/we_rewrote_our_ingest_pipeline_from_python_to_go/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mqecu6/xpost_dualstack_a_golang_project_to_help_migrate/" target="_blank">[x-post] dualstack ‚Äì A golang project to help migrate open source projects to full ipv6 compatibility</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hi Gophers, </p> <p>I wanted to share dualstack, a toolset aimed at helping go developers maintain IPv4 &amp; IPv6 compatibility. </p> <ol> <li><em>ip6check</em> (linter / validator): CLI, docker image, basic rules and regression tests are ready . It can be integrated into CI with a single docker run</li> <li><em>Multilistener</em>, <em>FirewallListener</em> and <em>middleware</em> (http protection) are mature to support dualstack localhost listeners</li> <li>Mock Listener, Conn for testing .<br/></li> </ol> <p><strong>Next Steps</strong></p> <p>develop an ipv6 linter to identify incompatibilities</p> <ol> <li>Expand API support</li> <li>Github Custom Action for <em>ip6check</em></li> <li>Document Testing mocks to help confirm ipv6 compatibility.</li> <li>automated PR submissions to help projects migrate and test with minimal effort</li> </ol> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/tonymet"> /u/tonymet </a> <br/> <span><a href="https://www.reddit.com/r/ipv6/comments/1mm31oi/dualstack_a_golang_project_to_help_migrate_open/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mqecu6/xpost_dualstack_a_golang_project_to_help_migrate/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mq5muj/i_built_a_genz_flavored_programming_language/" target="_blank">I built a GenZ flavored programming language using Go</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I really enjoyed building an interpreter with <a href="https://interpreterbook.com/">Writing an Interpreter in Go</a>, so I decided to create my own GenZ flavoured language based on the foundations I learned in the book.</p> <p>Check it out here: <a href="https://nocap.prateeksurana.me">https://nocap.prateeksurana.me</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/psuranas"> /u/psuranas </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mq5muj/i_built_a_genz_flavored_programming_language/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mq5muj/i_built_a_genz_flavored_programming_language/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mq58lj/a_composable_rate_limiter_for_go/" target="_blank">A composable rate limiter for Go</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I‚Äôve observed that, in production, rate limiting gets complicated ‚Äî layers of policy. So I‚Äôve created a new rate limiter with, IMHO, the right primitives to make complex policies expressible and readable. Interested in your feedback.</p> <p><a href="https://github.com/clipperhouse/rate">https://github.com/clipperhouse/rate</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/mwsherman"> /u/mwsherman </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mq58lj/a_composable_rate_limiter_for_go/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mq58lj/a_composable_rate_limiter_for_go/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mq32n9/how_to_design_repository_structs_in_the_go_way/" target="_blank">How to design repository structs in the GO way?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hello Gophers,</p> <p>I&#39;m writing my first little program in GO, but coming from java I still have problem structuring my code.</p> <p>In particular I want to make repository structs and attach methods on them for operations on the relevant tables.</p> <p>For example I have this</p> <pre><code>package main import ( &quot;database/sql&quot; _ &quot;github.com/mattn/go-sqlite3&quot; ) type Sqlite3Repo struct { db *sql.DB // can do general things MangaRepo *MangaRepo ChapterRepo *ChapterRepo UserRepo *UserRepo } type MangaRepo struct { db *sql.DB } type ChapterRepo struct { db *sql.DB } type UserRepo struct { db *sql.DB } func NewSqlite3Repo(databasePath string) *Sqlite3Repo { db, err := sql.Open(&quot;sqlite3&quot;, &quot;./database.db&quot;) if err != nil { Log.Panicw(&quot;panic creating database&quot;, &quot;err&quot;, err) } // create tables if not exist return &amp;Sqlite3Repo { db: db, MangaRepo: &amp;MangaRepo{ db: db }, ChapterRepo: &amp;ChapterRepo{ db: db }, UserRepo: &amp;UserRepo{ db: db }, } } func (mRepo *MangaRepository) SaveManga(manga Manga) // etc </code></pre> <p>and then when the client code</p> <pre><code>package main func main() { db := NewSqlite3Repo(&quot;./database.db&quot;) db.MangaRepository.SaveManga(Manga{Title: &quot;Berserk&quot;}) } </code></pre> <p>is this a good approach? Should I create a global <code>Sqlite3Repo</code> instance ?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/il_duku"> /u/il_duku </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mq32n9/how_to_design_repository_structs_in_the_go_way/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mq32n9/how_to_design_repository_structs_in_the_go_way/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mq2jt9/to_di_or_not_to_di/" target="_blank">to DI or not to DI</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>The title might be cringey but my issue isn&#39;t, I&#39;m new to Go and I&#39;d love to know what you guys use to manage configuration within your apps. </p> <p>I&#39;m currently working on a CLI tool to streamline DB dumps/imports with support for workflows using yaml config files and a .env, I&#39;ve got a simple <strong><em>internal</em></strong> folder where most logic lives, I created a config package which exports some helper functions (ex. LoadConfig, ParseValue, ...), but coming from TS where I would use DI to inject my config module everywhere it&#39;s needed, I&#39;m not sure if my current approach is the best especially for unit testing.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/xanadev"> /u/xanadev </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mq2jt9/to_di_or_not_to_di/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mq2jt9/to_di_or_not_to_di/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mq1ske/problem_integrating_tailwind_cli_v41_with_go/" target="_blank">Problem integrating Tailwind CLI (v4.1) with Go + templ: generated HTML has no styles</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>(noob here)</p> <p>I‚Äôm trying to use Tailwind CSS (v4.1) in a Go project that uses <a href="https://templ.guide/">templ</a> to generate HTML. Here‚Äôs what I‚Äôve done to set up Tailwind CLI:</p> <ol> <li><p>Installed Tailwind CLI:</p> <p>npm install tailwindcss <a href="/u/tailwindcss/cli">u/tailwindcss/cli</a></p></li> <li><p>Added to <code>input.css</code>:</p> <p>@import &quot;tailwindcss&quot;;</p></li> <li><p>Ran:</p> <p>npx @tailwindcss/cli -i ./internal/src/input.css -o ./internal/src/output.css --watch</p></li> </ol> <p>This successfully generates <code>output.css</code>.</p> <ol> <li><p>In the <code>&lt;head&gt;</code> of my <code>.templ</code> component I added:</p> <p>&lt;link href=&quot;../src/output.css&quot; rel=&quot;stylesheet&quot;&gt;</p></li> </ol> <p><strong>Problem:</strong> When I make changes and run:</p> <pre><code>templ generate </code></pre> <p>and then I go to see the website on the browser, the generated HTML is <strong>missing Tailwind styles</strong>. The HTML looks plain without any Tailwind styling. <code>output.css</code> exists and is generated correctly, but the final HTML doesn‚Äôt seem to use it.</p> <p><strong>Questions:</strong></p> <ul> <li>Does templ need special configuration to serve the generated CSS?</li> <li>What‚Äôs the recommended way to integrate Tailwind CLI with templ so that changes are applied correctly?</li> </ul> <p><strong>Extra notes:</strong></p> <p>The project doesn‚Äôt use a bundler like Vite. just Tailwind CLI and templ.</p> <p>There are no errors in the console; the styles are simply not applied.</p> <p>My directory looks as follow:</p> <ul> <li>cmd/</li> <li>internal/ <ul> <li>database/</li> <li>gintemplrenderer/</li> <li>handler/</li> <li>models/</li> <li>routing/</li> <li>src/ <ul> <li>input.css</li> <li>output.css</li> </ul></li> <li>views/ <ul> <li>home.templ</li> <li>userForm.templ</li> </ul></li> </ul></li> <li>migrations/</li> <li>node_modules/</li> <li>pkg/</li> <li>tmp/</li> <li>.gitignore</li> <li>go.mod</li> <li>go.sum</li> <li>main.go</li> <li>package.json</li> <li>package-lock.json</li> </ul> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Nibble_Cr"> /u/Nibble_Cr </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mq1ske/problem_integrating_tailwind_cli_v41_with_go/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mq1ske/problem_integrating_tailwind_cli_v41_with_go/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mq081i/need_to_set_gopath_and_goroot/" target="_blank">Need to set GOPATH and GOROOT?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>It&#39;s 2025. Do we still have to set the <code>GOPATH</code> and <code>GOROOT</code> environment variable?</p> <p>I googled around and there are still instructions telling us to set <code>GOPATH</code>. But I thought since the invention of Go module, it is already deprecated?</p> <p>And what about setting <code>GOROOT</code>?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/2048b"> /u/2048b </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mq081i/need_to_set_gopath_and_goroot/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mq081i/need_to_set_gopath_and_goroot/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mpxg3f/ive_had_a_function_that_takes_a_callback_and_it/" target="_blank">I've had a function that takes a callback and it can now be used in range over iterator.</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><blockquote> <p>I&#39;ve had wrote a function that traverses a node tree and passes the node to a given callback function. And that function returns a <code>Type T bool</code> to tell stop or continue traversing. I didn&#39;t knew <strong>Iter</strong> package back then. I&#39;ve just realized i can make it work with <code>range</code>by making <strong>Type T = bool.</strong> It worked. Now that function can be used in 2 different ways.</p> </blockquote> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Resident-Arrival-448"> /u/Resident-Arrival-448 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mpxg3f/ive_had_a_function_that_takes_a_callback_and_it/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mpxg3f/ive_had_a_function_that_takes_a_callback_and_it/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mpwayc/released_lyra_typesafe_task_orchestration_for_go/" target="_blank">Released Lyra: Type-safe task orchestration for Go</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I built this after getting tired of manual goroutine coordination for complex workflows. </p> <p>Replaces this mess:<br/> ```go func processManually(ctx context.Context, userID int) error { var wg sync.WaitGroup var mu sync.Mutex results := make(map[string]interface{}) errChan := make(chan error, 2)</p> <pre><code>// Start parallel tasks wg.Add(2) go func() { defer wg.Done() user, err := fetchUser(ctx, userID) if err != nil { errChan &lt;- err return } mu.Lock() results[&quot;user&quot;] = user mu.Unlock() }() go func() { defer wg.Done() orders, err := fetchOrders(ctx, userID) if err != nil { errChan &lt;- err return } mu.Lock() results[&quot;orders&quot;] = orders mu.Unlock() }() wg.Wait() close(errChan) // Check for errors for err := range errChan { if err != nil { return err } } // Generate report with results user := results[&quot;user&quot;].(User) orders := results[&quot;orders&quot;].([]Order) _, err := generateReport(ctx, user, orders) return err </code></pre> <p>} ```</p> <p>With this:<br/> ```go func processWithLyra(ctx context.Context, userID int) error { l := lyra.New(). Do(&quot;fetchUser&quot;, fetchUser, lyra.UseRun(&quot;userID&quot;)). Do(&quot;fetchOrders&quot;, fetchOrders, lyra.UseRun(&quot;userID&quot;)). Do(&quot;generateReport&quot;, generateReport, lyra.Use(&quot;fetchUser&quot;), lyra.Use(&quot;fetchOrders&quot;))</p> <pre><code>_, err := l.Run(ctx, map[string]any{&quot;userID&quot;: userID}) return err </code></pre> <p>} ```</p> <p>Key features:<br/> - Automatic concurrency<br/> - Type safety<br/> - Cycle detection<br/> - Zero dependencies </p> <p>Looking for feedback from the Go community!</p> <p><a href="https://github.com/sourabh-kumar2/lyra">https://github.com/sourabh-kumar2/lyra</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/PracticeBrief9195"> /u/PracticeBrief9195 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mpwayc/released_lyra_typesafe_task_orchestration_for_go/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mpwayc/released_lyra_typesafe_task_orchestration_for_go/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1mpsifo/iota_behaviours/" target="_blank">iota behaviours</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>So my codebase has these constants</p> <pre><code>const ( CREATE_TRX_API APIType = iota + 1 GET_TRX_API CANCEL_TRX_API UPDATE_TRX_API APIType = iota + 9 ) </code></pre> <p>I know iota in the first declaration means 0. So iota + 1 would be 1.</p> <p>But I don&#39;t understand the last iota use. Somehow it results to 12, which is 3 + 9. So why does the iota here become 3? Is it because we previously had 3 different declarations?</p> <p>When I first read the code, I thought the last declaration was 0 + 9 which is 9. And then I got confused because it turns out it was actually 12.</p> <p>Can anyone explain this behaviour?</p> <p>Is there any other quirky iota behaviors that you guys can share with me?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/naikkeatas"> /u/naikkeatas </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1mpsifo/iota_behaviours/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1mpsifo/iota_behaviours/">[comments]</a></span></div>
          </li>
  
        </ul>
  
      </div>
  
    </div>
  </body>
  </html>