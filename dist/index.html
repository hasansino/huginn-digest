
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      :root {
        --bg-color: #121212;
        --container-bg: #1e1e1e;
        --text-color: #e0e0e0;
        --heading-color: #ffffff;
        --subheading-color: #58a6ff;
        --link-color: #58a6ff;
        --border-color: #333333;
        --item-hover: #2a2a2a;
        --shadow: 0 4px 12px rgba(0,0,0,0.2);
        --accent-color: #58a6ff;
        --tooltip-bg: #2a2a2a;
        --tooltip-text: #e0e0e0;
        --table-header-bg: #2a2a2a;
        --table-header-text: #ffffff;
        --table-row-odd: #1e1e1e;
        --table-row-even: #252525;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.5;
        color: var(--text-color);
        background-color: var(--bg-color);
        margin: 0;
        padding: 0;
      }
      
      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 15px;
      }
      
      .card {
        background-color: var(--container-bg);
        border-radius: 8px;
        box-shadow: var(--shadow);
        padding: 16px;
        margin-bottom: 16px;
        transition: all 0.2s ease;
      }
      
      .card:hover {
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      }

      .header-p {
        margin: 0.2em 0;
        font-weight: 500;
        letter-spacing: -0.02em;
        font-size: 14px;
      }

      .subreddit {
        text-align: right;
      }
      
      h2 {
        font-size: 18px;
        font-weight: 600;
        color: var(--heading-color);
        margin-top: 0;
        margin-bottom: 12px;
        padding-bottom: 6px;
        border-bottom: 2px solid var(--accent-color);
      }
      
      h3 {
        font-size: 16px;
        font-weight: 500;
        color: var(--subheading-color);
        margin-bottom: 8px;
      }
      
      a {
        color: var(--link-color);
        text-decoration: none;
        transition: color 0.2s ease;
      }
      
      a:hover {
        color: var(--accent-color);
        text-decoration: underline;
      }
      
      /* Weather Table Styles */
      .weather-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
        border-radius: 6px;
        overflow: hidden;
      }
      
      .weather-table th {
        background-color: var(--table-header-bg);
        color: var(--table-header-text);
        font-weight: 500;
        text-align: left;
        padding: 8px 12px;
        font-size: 14px;
      }
      
      .weather-table td {
        padding: 8px 12px;
        border-bottom: 1px solid var(--border-color);
        font-size: 14px;
      }
      
      .weather-table tr:nth-child(odd) {
        background-color: var(--table-row-odd);
      }
      
      .weather-table tr:nth-child(even) {
        background-color: var(--table-row-even);
      }
      
      .weather-table tr:last-child td {
        border-bottom: none;
      }
      
      .comic {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 12px 0;
      }
      
      .comic-title {
        font-weight: 600;
        margin-bottom: 8px;
        text-align: center;
        font-size: 15px;
      }
      
      .comic img {
        max-width: 600px;
        max-height: auto;
        object-fit: contain;
        border-radius: 6px;
        margin-bottom: 6px;
        cursor: pointer;
      }
      
      .comic-number {
        font-size: 12px;
        color: var(--text-color);
        opacity: 0.7;
        margin-top: 3px;
      }
      
      .item-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .item-list li {
        padding: 8px 10px;
        border-bottom: 1px solid var(--border-color);
        position: relative;
        font-size: 14px;
      }
      
      .item-list li:last-child {
        border-bottom: none;
      }
      
      .item-list li:hover {
        background-color: var(--item-hover);
        border-radius: 4px;
      }
      
      .item-content {
        display: none;
        position: absolute;
        z-index: 10;
        background-color: var(--tooltip-bg);
        color: var(--tooltip-text);
        border-radius: 6px;
        padding: 15px;
        width: 90%;
        max-width: 100%;
        box-shadow: 0 4px 16px rgba(0,0,0,0.3);
        left: 50%;
        transform: translateX(-50%);
        bottom: 100%;
        font-size: 13px;
        line-height: 1.4;
        overflow: auto;
        max-height: 250px;
        border: 4px solid var(--border-color);
      }

      .item-content::-webkit-scrollbar {
        display: none;
      }

      .item-list li:hover .item-content {
        display: block;
      }
      
      .item-list li::before {
        content: "‚Ä¢";
        color: var(--accent-color);
        font-weight: bold;
        display: inline-block;
        width: 1em;
        margin-left: -0.5em;
      }
      
      @media (max-width: 600px) {
        .container {
          padding: 10px;
        }
        
        .card {
          padding: 12px;
          margin-bottom: 12px;
        }
        
        .item-content {
          width: 95%;
          left: 2.5%;
          transform: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
  
      <div class="card">
        <h2>Huginn Daily</h2>
        <p class="header-p">Friday, September 5, 2025</p>
        <p class="header-p">0fb74915-8395-4648-b4a7-00a260576a71</p>
      </div>
  
      <div class="card">
        <h2>Weather</h2>
        <table class="weather-table">
          <tr>
            <th>Summary</th>
            <td>‚õÖÔ∏è Clear throughout the day.</td>
          </tr>
          <tr>
            <th>Temperature Range</th>
            <td>21¬∞C to 32¬∞C (70¬∞F to 90¬∞F)</td>
          </tr>
          <tr>
            <th>Feels Like</th>
            <td>Low: 72¬∞F | High: 86¬∞F</td>
          </tr>
          <tr>
            <th>Humidity</th>
            <td>51%</td>
          </tr>
          <tr>
            <th>Wind</th>
            <td>10 km/h (6 mph), Direction: 214¬∞</td>
          </tr>
          <tr>
            <th>Precipitation</th>
            <td>Probability: 0%, Type: No precipitation expected</td>
          </tr>
          <tr>
            <th>Sunrise / Sunset</th>
            <td>üåÖ 06:23 AM / üåá 07:08 PM</td>
          </tr>
          <tr>
            <th>Moon Phase</th>
            <td>Waxing Gibbous (42%)</td>
          </tr>
          <tr>
            <th>Cloud Cover</th>
            <td>0%</td>
          </tr>
          <tr>
            <th>Pressure</th>
            <td>1009.13 hPa</td>
          </tr>
          <tr>
            <th>Dew Point</th>
            <td>58.88¬∞F</td>
          </tr>
          <tr>
            <th>Visibility</th>
            <td>10.0 miles</td>
          </tr>
        </table>
      </div>
  
      <div class="card">
        <h2>Reddit</h2>
  
        <h3 class="subreddit">r/golang</h3>
        <ul class="item-list">
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8ty2g/static_vs_dynamic_linking/" target="_blank">Static vs dynamic linking</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I have a project that currently compiled to a dynamically linked binary. I‚Äôve been considering making it statically linked. But I have a couple questions. * Is it worth it? * Do I need to test extensively? * Is it possible? Some more details about this project, it is pretty much watching for new versions and does stuff when one is found. Most of the data is coming over net/http, and it also hosts a net/http server. The only 2 external libraries I use are</p> <p>github.com/joho/godotenv github.com/sirupsen/logrus</p> <p>And internally I use no cgo. However cgo is compiled. From what I can tell net and some parts of crypto(which is only really used for TLS) use cgo, however they have fallbacks written in pure go. Any thoughts?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Lego_Fan9"> /u/Lego_Fan9 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1n8ty2g/static_vs_dynamic_linking/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8ty2g/static_vs_dynamic_linking/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8rj97/architecture_of_a_modular_monolith_in_golang/" target="_blank">Architecture of a modular monolith in Golang</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>What would a base structure of a modular monolith in Golang look like? How to set the limits correctly? Let&#39;s think about it: an application that takes care of an industrial production process of the company, would I have a &quot;production&quot; module that would have product registration, sector, machine, production order, reasons for stopping, etc.? Among these items I listed, could any of them supposedly be a separate module?</p> <p>The mistake I made was for example, for each entity that has a CRUD and specific rules I ended up creating a module with 3 layers (repo, service and handlers). Then I have a sector CRUD and I went there and created a sector module, then I also have a register of reasons and I created a module of reasons, then to associate reasons to the sector I ended up creating a sector_motive module...</p> <p>I put it here in the golang community, because if I have a module with several entities, I would like to know how to be the service layer of this module (which manages the business rules) Would a giant service register machine, product, sector etc? Or would I have service structures within this module for each &quot;entity&quot;?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Low_Expert_5650"> /u/Low_Expert_5650 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1n8rj97/architecture_of_a_modular_monolith_in_golang/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8rj97/architecture_of_a_modular_monolith_in_golang/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8oug2/ergo_framework_v310_released/" target="_blank">Ergo Framework v3.1.0 Released</a>
            <div class="item-content"><table> <tr><td> <a href="https://www.reddit.com/r/golang/comments/1n8oug2/ergo_framework_v310_released/">  </a> </td><td> <!-- SC_OFF --><div class="md"><p>We&#39;re excited to announce Ergo Framework v3.1.0, bringing significant enhancements to Go&#39;s actor model implementation.</p> <p><strong>Core Enhancements:</strong></p> <ul> <li>Cron Scheduler for time-based task execution with standard cron expressions</li> <li>Port Meta Process for managing external OS processes with bidirectional communication</li> <li>Unit Testing Framework for isolated actor testing with event validation</li> <li>Enhanced Logging with JSON output and structured fields</li> </ul> <p><strong>External Library Ecosystem:</strong></p> <ul> <li>All external libraries are now independent Go modules with separate dependency management</li> <li>New etcd Registrar for distributed service discovery with real-time cluster events</li> <li>Enhanced Observer with Applications page and Cron job monitoring</li> <li>Serialization benchmarks comparing EDF, Protobuf, and Gob performance</li> <li>Erlang protocol stack moved from BSL 1.1 to MIT license</li> <li>All tools consolidated under <a href="http://ergo.tools">ergo.tools</a> domain</li> </ul> <p><strong>Performance</strong></p> <p>Over 21M messages/sec locally and 5M messages/sec over network on 64-core systems. EDF serialization performs competitively with Protobuf across most data types.</p> <p><strong>Resources</strong></p> <ul> <li>GitHub: <a href="https://github.com/ergo-services/ergo">https://github.com/ergo-services/ergo</a></li> <li>Documentation: <a href="https://docs.ergo.services">https://docs.ergo.services</a></li> <li>Examples: <a href="https://github.com/ergo-services/examples">https://github.com/ergo-services/examples</a></li> <li>Benchmarks: <a href="https://github.com/ergo-services/benchmarks">https://github.com/ergo-services/benchmarks</a></li> </ul> <p>For detailed changelog see the <a href="http://README.md">README.md</a> at <a href="https://github.com/ergo-services/ergo">https://github.com/ergo-services/ergo</a></p> <p>Join our community at <a href="/r/ergo_services">r/ergo_services</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/taras-halturin"> /u/taras-halturin </a> <br/> <span><a href="https://github.com/ergo-services/ergo">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8oug2/ergo_framework_v310_released/">[comments]</a></span> </td></tr></table></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8nl76/does_gos_beautifully_restrictive_syntax_get/" target="_blank">Does Go's beautifully restrictive syntax get compromised by feature creep?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;m used to older languages adding in demand syntax, which makes it impossible to become an expert. </p> <p>Java projects often don&#39;t use syntax beyond v8 which is almost 20 years old (Cassandra code base in open source but it&#39;s the same story in large corporate java code bases).</p> <p>Python 3&#39;s relentless minor versioning makes me not even want to try learning to do things elegantly.</p> <p>And Perl programmers know what happens when you create idioms that are excessively convenient.</p> <p>Is go adding language features and losing its carefully crafted grammar that ken Thompson etc carefully decided on? That would be a real shame. I really appreciate Go&#39;s philosophy for this reason and wish I got to use it at work.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/sarnobat"> /u/sarnobat </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1n8nl76/does_gos_beautifully_restrictive_syntax_get/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8nl76/does_gos_beautifully_restrictive_syntax_get/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8lutr/system_design_for_assigning_roles_to_users/" target="_blank">System design for assigning roles to users, simplified RBAC authorization</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I have a modular monolith in Golang, each module having three layers (repository or DAO, service, and API). I&#39;ve separated it into two modules: the user module and the access control module. Which module should house the logic for assigning roles to a user? I&#39;m talking about both the system architecture and the UX/UI levels.</p> <p>I forgot to mention, but each module serves its own UI too (I use HTML+Templ)</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Low_Expert_5650"> /u/Low_Expert_5650 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1n8lutr/system_design_for_assigning_roles_to_users/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8lutr/system_design_for_assigning_roles_to_users/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8ksx6/go_goroutine_synchronization_a_practical_guide/" target="_blank">Go Goroutine Synchronization: a Practical Guide</a>
            <div class="item-content"><table> <tr><td> <a href="https://www.reddit.com/r/golang/comments/1n8ksx6/go_goroutine_synchronization_a_practical_guide/">  </a> </td><td> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Real_Blank"> /u/Real_Blank </a> <br/> <span><a href="https://medium.com/@Realblank/go-goroutine-synchronization-a-practical-guide-49705a499fd7">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8ksx6/go_goroutine_synchronization_a_practical_guide/">[comments]</a></span> </td></tr></table></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8cxj2/most_pragmatic_simple_way_to_test_with_psql/" target="_blank">Most pragmatic & simple way to test with PSQL?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;m searching for a simple way to have each test be isolated when doing queries against my postgres database.</p> <p>I&#39;m using Docker &amp; a docker-compose.yaml file.</p> <pre><code>services: backend: build: context: . dockerfile: Dockerfile.dev restart: unless-stopped ports: - &quot;8080:8080&quot; - &quot;2345:2345&quot; # Delve debugger port env_file: - .env volumes: - .:/app - go_modules:/go/pkg/mod - go_build_cache:/root/.cache/go-build depends_on: db: condition: service_healthy environment: - GOCACHE=/root/.cache/go-build db: image: postgres:16-alpine restart: unless-stopped environment: - POSTGRES_DB=la_recarga - POSTGRES_USER=postgres - POSTGRES_PASSWORD=postgres ports: - &quot;5432:5432&quot; healthcheck: test: [&quot;CMD-SHELL&quot;, &quot;pg_isready -U postgres -d la_recarga&quot;] interval: 10s timeout: 5s retries: 5 volumes: go_modules: driver: local go_build_cache: driver: local </code></pre> <p>I took a look at some options like testcontainers and it seemed a little more complicated than I would&#39;ve liked and it spins up a container per test.</p> <p>One thing I came across that seemed interesting was creating a database template and copying it and creating a unique database per test.</p> <p>Is there a pretty simple and pragmatic way to do this with Go?</p> <p>I don&#39;t want to Mock the database, I want actual database operations to happen, I just want a clean and pristine database everytime each test is run and is isolated from other concurrent tests.</p> <p>I could be overthinking this, I hope I am.</p> <p>Looking to be pointed in the right direction that&#39;s idiomatic and pragmatic.</p> <h1>I solved it by doing the following:</h1> <ol> <li><p>Made a DBTX Interface in my database package that inherits the bun.IDB interface</p> <p>// New, make consumers of databases accept this, supports DB struct &amp; bun.Tx type DBTX interface { bun.IDB }</p> <p>// Old type DB struct { *bun.DB }</p></li> <li><p>Update my Services to accept `DBTX` instead of the `DB` struct</p> <p>type AuthService struct { db database.DBTX jwtConfig *config.JWTConfig }</p> <p>func NewAuthService(db database.DBTX, jwtConfig *config.JWTConfig) *AuthService { return &amp;AuthService{db, jwtConfig} }</p></li> <li><p>Updated testing helpers within database package to make it really easy to run tests in isolation by creating a DBTX, and rolling back when the test is finished.</p> <p>var ( testDb *DB testDbOnce sync.Once )</p> <p>// Creates database connection, migrates database if needed in New func SetupTestDB(t *testing.T) *DB { t.Helper()</p> <pre><code>testDbOnce.Do(func() { cfg := &amp;config.DatabaseConfig{ Env: config.EnvTest, Url: os.Getenv(&quot;DATABASE_URL&quot;), LogQueries: false, MaxOpenConns: 5, MaxIdleConns: 5, AutoMigrate: true, } db, err := New(cfg) if err != nil { t.Fatalf(&quot;Failed to connect to db: %v&quot;, err) } testDb = db }) return testDb </code></pre> <p>}</p> <p>// Create a TX, return it, then rolback when test is finished. func SetupTestDBTX(t *testing.T) DBTX { t.Helper()</p> <pre><code>db := SetupTestDB(t) tx, err := db.Begin() if err != nil { t.Fatalf(&quot;Failed to create transaction: %v&quot;, err) } // Ensure we clean up after the test t.Cleanup(func() { if err := tx.Rollback(); err != nil { t.Fatalf(&quot;Failed to rollback tx: %v&quot;, err) } }) return tx </code></pre> <p>}</p></li> <li><p>Updated service tests to use new database testing utilities</p> <p>func SetupAuthService(t *testing.T) *services.AuthService { t.Helper()</p> <pre><code>db := database.SetupTestDBTX(t) jwtConfig := config.JWTConfig{ Secret: &quot;some-secret-here&quot;, AccessTokenExpiry: time.Duration(24 * time.Hour), RefreshTokenExpiry: time.Duration(168 * time.Hour), } return services.NewAuthService(db, &amp;jwtConfig) </code></pre> <p>}</p> <p>func TestSignup(t *testing.T) { t.Parallel()</p> <pre><code>svc := SetupAuthService(t) _, err := svc.SignUp(context.Background(), services.SignUpInput{ Email: &quot;foo@gmail.com&quot;, Password: &quot;password123&quot;, }) if err != nil { t.Errorf(&quot;Failed to create user: %v&quot;, err) } </code></pre> <p>}</p></li> <li><p>Updated postgres container to use `tmpfs`</p> <p>db: image: postgres:16-alpine tmpfs: - /var/lib/postgresql/data ports: - &quot;5432:5432&quot;</p></li> </ol> <p>Feel really good about how the tests are setup now, it&#39;s very pragmatic, repeatable, and simple.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/East-Addendum9178"> /u/East-Addendum9178 </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1n8cxj2/most_pragmatic_simple_way_to_test_with_psql/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8cxj2/most_pragmatic_simple_way_to_test_with_psql/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n8apqk/anvil_install_you_full_toolchain_in_one_command/" target="_blank">Anvil: Install you full tool-chain in one command and manage app configurations easily.</a>
            <div class="item-content"><table> <tr><td> <a href="https://www.reddit.com/r/golang/comments/1n8apqk/anvil_install_you_full_toolchain_in_one_command/">  </a> </td><td> <!-- SC_OFF --><div class="md"><p><strong>From 3-hour setup hell to 3-command paradise: I open-sourced my Mac automation tool</strong></p> <p><strong>The problem:</strong> Every new Mac = 3 hours of installing apps, configuring terminals, hunting down dotfiles, debugging broken setups.</p> <p><strong>My solution:</strong> Built Anvil - a CLI that automates the entire macOS dev environment.</p> <p><strong>What makes it different:</strong> - Installs and tracks everything automatically in your settings.yaml - Syncs configs across machines without breaking things - <code>anvil doctor</code> fixes common issues for you</p> <p>Started as a personal tool, but figured the community might benefit. Already saved me dozens of hours this year.</p> <p><a href="https://github.com/rocajuanma/anvil">Github repo</a></p> <p>Curious if y&#39;all have thoughts? If this is useful? Happy to hear your feedback, thanks!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/rocajuanma"> /u/rocajuanma </a> <br/> <span><a href="https://github.com/rocajuanma/anvil">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n8apqk/anvil_install_you_full_toolchain_in_one_command/">[comments]</a></span> </td></tr></table></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/golang/comments/1n889sh/question_how_to_test_remotely/" target="_blank">[Question] How to test remotely?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>So I&#39;ve been cleaning up our codebase and wrote a lot of tests using the upstream <code>testing</code> package and I feel good about it.</p> <p>There&#39;s one problem left that still relies on our internal testing &quot;framework&quot; that we built to be able to do tests on target VMs remotely. Some parts of our codebase are adapters to different platforms and different distribution constellations, and will run only on said platforms (or <code>go:build</code> targets).</p> <p>For the sake of argument, we have for example an <code>archlinux</code> and a <code>debian</code> build tag. For the <code>archlinux</code> platform, we have <code>adapters/packages/pacman</code> as an adapter, providing an API to <code>CollectPackages()</code> or <code>UpdatePackage()</code> etc. For the <code>debian</code> platform, we have <code>adapters/packages/apt</code> that does the same, offering the same method signatures but which is using different parsers internally.</p> <p>The list goes on, it&#39;s a lot of adapters that are built this way, around 40+ adapters for various constellations and not only related to package inventory management as we support around 50 distributions officially.</p> <p>So for the moment, our internal testing framework is using a <code>go:generate</code> call behind the scenes and is basically rendering a template for a <code>main()</code> method that gradually imports our project&#39;s libraries and the defined custom tests, so our toolchain CLI allows e.g. to include tests for &quot;archlinux:adapters/packages&quot; or with wildcard patterns, in return setting the right build tags and including the right tests for the go build calls.</p> <p>That generated <code>main()</code> code is compiled into a binary and the tests are executed in a custom runner that is included into the code, basically as a cleanup method. This way we can build a binary, transfer it via SSH to our testing environment VMs, execute the binaries there, have a JSON stream emitted to stdout/stderr, get the results back, and evaluate whether all things were working in the end. The final comparisons happen kind of live and locally on the developer&#39;s host machine by the custom runner. The workflow is similar to what mainframer tried to do, in case you remember that tool, but it&#39;s implemented in pure Go (including the SSH stuff).</p> <hr/> <p>Now I&#39;ve tried to understand whether or not <code>TestMain()</code> and the <code>testing.M</code> interface can even implement that. But no matter how I structure the code, it either won&#39;t compile or won&#39;t be able to import the different methods. I was assuming that e.g. a <code>pacman.TestWhatever</code> method would be exported when it&#39;s being run via the <code>go test -c</code> command that generates a standalone binary, but it always complains about that the methods are not exported. My assumption here was that a TestMain would be the main entry for the program of the &quot;via test -c compiled binary&quot;, which could then just run the different package-specific methods based on the specified build tags.</p> <p>That way I could create a <code>main_test_archlinux.go</code> file which would include only the archlinux specific tests. But that&#39;s not possible as far as I understand.</p> <p>So my questions are kind of the following:</p> <ul> <li><p>What would be the best testing strategy here? Are there established testing frameworks for this use case of on-remote-machine testing?</p></li> <li><p>Is it possible to implement this using the upstreamed testing library, at all? With or without <code>go:build</code> tags?</p></li> <li><p>Should I try to refactor our old framework-using tests by implementing the interfaces provided by the testing package so that they can be potentially migrated in the future? or should I instead just leave it as-is, because upstream Go won&#39;t provide something like that anyways?</p></li> </ul> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/cookiengineer"> /u/cookiengineer </a> <br/> <span><a href="https://www.reddit.com/r/golang/comments/1n889sh/question_how_to_test_remotely/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/golang/comments/1n889sh/question_how_to_test_remotely/">[comments]</a></span></div>
          </li>
  
        </ul>
  
        <h3 class="subreddit">r/rust</h3>
        <ul class="item-list">
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8o8ud/daft_is_trending_on_github_in_rust/" target="_blank">Daft is trending on GitHub in Rust</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Just learned that Daft has shown up on GitHub <a href="https://github.com/trending/rust">trending under Rust</a>! We&#39;re so so grateful for all the rustaceans out there who&#39;ve supported us :&#39;)</p> <p>It&#39;s also funny because‚Ä¶ we&#39;re a Python library that&#39;s mostly implemented in Rust‚Ä¶ (one day we&#39;d love to be able to <code>cargo add daft</code>).</p> <p>Thought we could also take this chance to share more about the project since there seems to be some interest. For context: Daft is an open-source data engine specializing in processing multimodal data and running models over it, powered by a Rust engine under the hood. We&#39;re building it full-time and in the open. Rust has been huge for us:</p> <ul> <li>Contributors get productive surprisingly fast, even without prior Rust experience. I think it&#39;s fair to say that we&#39;re also extremely comfortable with open source contributions thanks to Rust.</li> <li>The Python bindings through pyo3 have been excellent, making it seamless to expose our Rust performance to Python users. Even the more complex Python &lt;-&gt; Rust async bits have been‚Ä¶ &quot;educational&quot;, if anyone&#39;s curious.</li> <li>Tokio has been a godsend for our streaming execution engine. We do a lot of async I/O work, but we&#39;ve also found that Tokio works just as well as a general-purpose multithreaded work scheduler, so we use it for compute as well (we separate compute and I/O work on separate runtimes).</li> </ul> <p>Fun fact: Daft actually started life in C++ and was later rewritten in Rust. The tipping point was a PR that only one person understood. The result has been night and day better for both development and performance.</p> <p>We&#39;d love contributions, ideas, and feedback. (And yes, we&#39;re also hiring, if building data processing systems for multimodal data in Rust + Python excites you).</p> <p>Check us out![ <a href="https://github.com/Eventual-Inc/Daft%5D(https://github.com/Eventual-Inc/Daft)">https://github.com/Eventual-Inc/Daft](https://github.com/Eventual-Inc/Daft)</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/sanityking"> /u/sanityking </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n8o8ud/daft_is_trending_on_github_in_rust/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8o8ud/daft_is_trending_on_github_in_rust/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8k55x/where_are_the_websocket_frameworks/" target="_blank">Where are the websocket frameworks?</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;ve been implementing a websocket protocol by hand over the last few weeks, and have slowly had to learn multiple hard lessons about idle connection timeouts and at-least-once delivery guarantee mechanims.</p> <p>I&#39;m left wondering: why aren&#39;t there ready-made partial protocols/frameworks that handle the rough edges here? While tokio-tungstenite and fastwebsockets do a great job at their level of abstraction, a lot is left as an exercise to the reader.</p> <p>Is this an area that simply isn&#39;t generalizable, or is there not enough interest?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Total_Celebration_63"> /u/Total_Celebration_63 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n8k55x/where_are_the_websocket_frameworks/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8k55x/where_are_the_websocket_frameworks/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8jlmt/release_100_lesynth_fourier/" target="_blank">Release 1.0.0 ‚Äì LeSynth - Fourier üé∂</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I‚Äôm excited to share the first stable release of <a href="https://github.com/hlavnjak/lesynth-fourier">LeSynth Fourier</a> ‚Äì a Rust-based VST3 plugin built with <strong>eGUI</strong> for the user interface. This project shows that it‚Äôs entirely possible to create modern, interactive audio plugin UIs directly in Rust without relying on C++ toolchains.</p> <p>A big thank you to everyone in the Rust ecosystem ‚Äì from <code>egui</code> to <code>nih-plug</code> crates or Rust Core developers, and all the tooling around ‚Äì this wouldn‚Äôt be possible without the amazing work of the community. üôè</p> <p>If you‚Äôre curious about audio plugins, synthesis, or just want to see what Rust + eGUI can do in the DAW world, check it out!</p> <p><a href="https://i.redd.it/031gaz7b87nf1.gif">https://i.redd.it/031gaz7b87nf1.gif</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Traditional_Fan_9652"> /u/Traditional_Fan_9652 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n8jlmt/release_100_lesynth_fourier/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8jlmt/release_100_lesynth_fourier/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8it6l/how_can_i_have_a_struct_with_its_members_that_are/" target="_blank">How can I have a struct with it's members (that are structs) have references to each other, with the container struct have no lifetime specifier.</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Basically this:</p> <pre><code>struct A { } struct B&lt;&#39;x&gt; { a: &amp;&#39;x A } struct C { a: A, b: B } </code></pre> <p>Howcan I have this without having to make C have a lifetime specifier? I want the internal member to have references to each other so their lifetimes are the same with the container struct. I am trying to avoid using the heap</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Koltaia30"> /u/Koltaia30 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n8it6l/how_can_i_have_a_struct_with_its_members_that_are/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8it6l/how_can_i_have_a_struct_with_its_members_that_are/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8hu4p/opensleep_rust_firmware_for_the_eight_sleep_pod_3/" target="_blank">opensleep: Rust firmware for the Eight Sleep Pod 3 (replacing ALL of Eight Sleep's proprietary programs)</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Hi <a href="/r/rust">r/rust</a>!</p> <p><a href="https://github.com/LiamSnow/opensleep"><strong>Github Link</strong></a></p> <p>I have spent the last many months working on one of my favorite Rust project to date - a complete firmware for the Eight Sleep Pod 3 that replaces all of Eight Sleep&#39;s programs running on the SOM.</p> <p>With <a href="https://github.com/LiamSnow/opensleep">opensleep</a> you can use your Pod 3 with complete privacy and make cool Home Assistant automations for when you get in and out of bed. Personally I have it set up to read my daily calendar when I get out of bed in the morning and remind to go to bed when its late.</p> <p>I won&#39;t get too much into the technical details here (you should checkout the <a href="https://github.com/liamsnow/opensleep">readme</a>), but basically other similar programs like <a href="https://github.com/bobobo1618/ninesleep">ninesleep</a> and <a href="https://github.com/throwaway31265/free-sleep">freesleep</a> replace part of Eight Sleep&#39;s programs while <a href="https://github.com/liamsnow/opensleep">opensleep</a> replaces ALL of them.</p> <p><strong>Features:</strong></p> <ol> <li>Custom temperature profile. Define as many points as you want. If you just want a constant temperature you can do that, or if you want to interpolate between 100 different temperatures in the night you can do that too.</li> <li>Vibration alarms</li> <li>Presence detection using capacitance sensors</li> <li>Couples and one user modes</li> <li>LED control &amp; cool effects</li> <li>Daily priming</li> <li>MQTT interface for remotely updating configuration and reading state (see <a href="https://github.com/LiamSnow/opensleep">README</a> for spec)</li> <li>Configured via a Ron file</li> </ol> <p><strong>Notice:</strong><br/> This project is purely intended educational and research purposes. It is for personal, non-commercial use only. It is not affiliated with, endorsed by, or sponsored by Eight Sleep. The Eight Sleep name and Pod are trademarks of Eight Sleep, Inc.</p> <p>Please leave a star on <a href="https://github.com/LiamSnow/opensleep">GitHub</a> if you like this project!!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/liamsnow_03"> /u/liamsnow_03 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n8hu4p/opensleep_rust_firmware_for_the_eight_sleep_pod_3/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8hu4p/opensleep_rust_firmware_for_the_eight_sleep_pod_3/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8hkbq/built_a_gitlike_cli_for_ticket_management/" target="_blank">Built a Git-like CLI for ticket management - file-based, no database required</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/nicolaou-dev"> /u/nicolaou-dev </a> <br/> <span><a href="https://github.com/nicolaou-dev/tix-cli">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8hkbq/built_a_gitlike_cli_for_ticket_management/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8gquj/using_thiserror_and_anyhow_for_generic_errors_in/" target="_blank">Using `thiserror` and `anyhow` for generic errors in `ApiResult`</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;m using Axum and all my handlers roughly follow this schema: <code>rs async fn name(State(state): State&lt;AppState&gt;) -&gt; Result&lt;(), AppError&gt; { </code> I&#39;ve implemented <code>IntoResponse</code> on <code>AppError</code>. ```rs</p> <h1>[derive(thiserror::Error, Debug)]</h1> <p>enum Error { #[error(&quot;bad request: {0}&quot;)] BadRequest(String),</p> <pre><code>#[error(&quot;database error: {0}&quot;)] Database(#[from] db::Error), #[error(&quot;IO error: {0}&quot;)] Io(#[from] io::Error), </code></pre> <p>}</p> <p>impl IntoResponse for Error { fn into_response(self) -&gt; Response {} } <code> Now, this all works fine, but sometimes I just have generic errors that I don&#39;t care about. They&#39;ll result in an internal server error. I like `anyhow` a lot for this, I can also add context neatly. But now the problem, is it possible or recommendable to combine the two? </code>rs let id = match db::insert_bucket(&amp;state.pool, &amp;name).await { Ok(id) =&gt; id, Err(db::Error::NotUnique) =&gt; return Ok(()), Err(e) =&gt; return Err(e.into()), }; // returns Err(AppError)</p> <p>fs::create_dir_all(&amp;dir_path) .await .with_context(|| format!(&quot;failed to create directory &#39;{}&#39;&quot;, dir_path))?; // return Err(anyhow::Error)</p> <p><code> I thought about adding an `Anyhow` variant to my type: </code></p> <h1>[derive(thiserror::Error, Debug)]</h1> <p>enum Error { #[error(&quot;database error: {0}&quot;)] Database(#[from] db::Error),</p> <pre><code>#[error(&quot;{0}&quot;)] Anyhow(#[from] anyhow::Error), </code></pre> <p>} ``<code> Then I can pattern match on this variant in my</code>IntoResponse` impl. But honestly, I&#39;m not happy with all solutions I can come up with. I don&#39;t want to add variants for errors I won&#39;t handle anyway, they simply result in an internal server error. </p> <p>Or I could return an <code>anyhow::Error</code> in my handlers and then downcast back to my concrete Error in the error handler.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/funky-rs"> /u/funky-rs </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n8gquj/using_thiserror_and_anyhow_for_generic_errors_in/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8gquj/using_thiserror_and_anyhow_for_generic_errors_in/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8ev9h/making_a_small_clippy_lint/" target="_blank">Making a Small Clippy Lint</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/kibwen"> /u/kibwen </a> <br/> <span><a href="https://erk.dev/2025/08/21/clippy-lint">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8ev9h/making_a_small_clippy_lint/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8e977/media_a_codetyping_game_in_rust_gittype/" target="_blank">[Media] A code-typing game in Rust: GitType</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Been hacking on GitType, a Rust CLI game for practicing typing. Instead of sample text, it pulls functions from your own git repos as challenges.</p> <ul> <li>Written in Rust, UI powered by ratatui</li> <li>Shows WPM, accuracy, consistency</li> <li>Unlocks fun ASCII-art ranks</li> </ul> <p>I usually hover around 10,000 score. Anyone here faster?</p> <h2>Install</h2> <p>```bash brew install unhappychoice/tap/gittype</p> <h1>or</h1> <p>cargo install gittype ```</p> <h2>Usage</h2> <p><code>bash gittype gittype {directory} gittype --repo unhappychoice/gittype # auto clone &amp; play any repository </code></p> <h2>Repo</h2> <p><a href="https://github.com/unhappychoice/gittype">GitHub - unhappychoice/gittype</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/LeoCraft6"> /u/LeoCraft6 </a> <br/> <span><a href="https://i.redd.it/vvrossvy76nf1.png">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8e977/media_a_codetyping_game_in_rust_gittype/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8du9a/this_week_in_rust_615/" target="_blank">This Week in Rust #615</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/mariannegoldin"> /u/mariannegoldin </a> <br/> <span><a href="https://this-week-in-rust.org/blog/2025/09/03/this-week-in-rust-615/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8du9a/this_week_in_rust_615/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8do4a/media_i_made_an_opensource_flow_based_programming/" target="_blank">[Media] I made an open-source Flow based programming tool</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I recently started a new open source project.</p> <p>It&#39;s a flow-based software designed to understand and make judgments about physical situations.</p> <p>Ultimately, this project is about solving <strong>home security</strong>. The idea is that users can build &#39;Flows&#39; that recognize a situation and trigger the right security actions automatically.</p> <p>The entire project is built with Rust/TypeScript, and the Flow logic executes natively on the Rust runtime.</p> <p>For those interested in such projects, plz check out the repo linked below.</p> <p><a href="https://github.com/cartesiancs/vessel">https://github.com/cartesiancs/vessel</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Independent-Use-6761"> /u/Independent-Use-6761 </a> <br/> <span><a href="https://i.redd.it/mnxleavh46nf1.png">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8do4a/media_i_made_an_opensource_flow_based_programming/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8dahm/chicken_and_egg_problem_with_sqlite3_and_sqlx/" target="_blank">Chicken and Egg problem with SQlite3 and SQLx</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>Edit (Answered): I&#39;m now using <code>SQLX_OFFLINE=true</code> in <code>.env</code>. You have to run <code>cargo sqlx prepare</code> first, it creates a directory <code>.sqlx/</code>. Then all macros work in offline mode.</p> <p>I create the database file if it doesn&#39;t exist in my <code>main</code> function: ```rs let opts = SqliteConnectOptions::from_str(&quot;sqlite://database.sqlite3&quot;) .unwrap() .create_if_missing(true);</p> <p>let pool = SqlitePoolOptions::new().connect_with(opts).await.unwrap(); ``<code> Now I want to use the</code>sqlx::query!<code>macro to get type safety. But it expects a database file, on the first run this doesn&#39;t exist because it gets created in the</code>main` function. I&#39;d be fine with running the program twice, once to create the database and then to check the macros, but I can&#39;t even run the program in the first place, because the macros fail.</p> <p>Now, I always have to run <code>sqlite3 database.sqlite3 &quot;&quot;</code> and then <code>sqlx migrate run</code> to create the file manually and run all migrations. Can I maybe invoke this with cargo somehow before it runs to skip this manual step? </p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/funky-rs"> /u/funky-rs </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n8dahm/chicken_and_egg_problem_with_sqlite3_and_sqlx/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8dahm/chicken_and_egg_problem_with_sqlite3_and_sqlx/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8cwr3/zngur_simplified_rustc_integration_david_sankel/" target="_blank">Zngur - Simplified Rust/C++ Integration - David Sankel - C++Now 2025</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/theMachine0094"> /u/theMachine0094 </a> <br/> <span><a href="https://youtube.com/watch?v=k_sp5wvoEVM&amp;si=7iUlD1udfcJ4C0HE">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8cwr3/zngur_simplified_rustc_integration_david_sankel/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n8a5bc/another_egui_bug_fix_release_0322_it_just_keeps/" target="_blank">Another egui bug fix release 0.32.2 - it just keeps getting better!</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/madeinchina"> /u/madeinchina </a> <br/> <span><a href="https://github.com/emilk/egui/releases/tag/0.32.2">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n8a5bc/another_egui_bug_fix_release_0322_it_just_keeps/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n893rv/image_v0258_plugin_api_exif_writing_faster_blur/" target="_blank">image v0.25.8: plugin API, Exif writing, faster blur and more!</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p><a href="https://crates.io/crates/image"><code>image</code></a> is the #1 image manipulation crate. The highlights of this release are:</p> <ul> <li>Added hooks for third-party implementations of format decoders to register themselves with <code>image</code> <ul> <li>if you register a handler for <code>.wtf</code> format, <code>image::open(&quot;img.wtf&quot;)?;</code> will Just Work.</li> <li>You can see a real-world example for JPEG XL format <a href="https://github.com/tirr-c/jxl-oxide/pull/480">here</a>.</li> </ul></li> <li>Added support for many more TIFF format variants, including the often requested Fax4 compression. <ul> <li>TIFF <a href="https://en.wikipedia.org/wiki/TIFF">famously stands</a> for Thousands of Incompatible File Formats, so this doesn&#39;t cover every possible TIFF file.</li> </ul></li> <li>Various improvements to decoding WebP, AVIF, PNG, GIF, BMP, TGA, PNM.</li> <li>Improved performance of gaussian blur and box blur operations, contributed by <a href="https://github.com/awxkee">@awxkee</a> <ul> <li>Blur in <code>image</code> balances performance with safety and complexity. More complex implementations such as <a href="https://crates.io/crates/libblur">libblur</a> should perform even better, at the cost of complexity and some <code>unsafe</code>.</li> </ul></li> <li>Initial support for ICC profiles and color management, backed by <a href="https://crates.io/crates/moxcms">moxcms</a>. <ul> <li>So far only <a href="https://www.color.org/iccmax/download/CICP_tag_and_type_amendment.pdf">CICP</a> is honored and only by color conversion functions, but this lays the groundwork for the support to be expanded in the future.</li> </ul></li> <li>You can now embed Exif metadata when writing JPEG, PNG and WebP images.</li> <li>When saving a <code>DynamicImage</code>, the pixel format (e.g. 16-bit RGBA) will be automatically converted into a pixel format the format supports (e.g. 8-bit RGBA) instead of returning an error. <ul> <li>This was a commonly encountered issue with the API with no easy workaround. Structs that specify a format explicitly like <code>GenericImage</code> are unchanged and still return an error on pixel format mistmatch.</li> </ul></li> <li>Various other API additions and improvements, see the <a href="https://github.com/image-rs/image/blob/main/CHANGES.md#version-0257">full changelog</a> for details.</li> </ul> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Shnatsel"> /u/Shnatsel </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n893rv/image_v0258_plugin_api_exif_writing_faster_blur/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n893rv/image_v0258_plugin_api_exif_writing_faster_blur/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n86u8d/big_performance_differences_between_3_similar/" target="_blank">Big performance differences between 3 similar functions</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I am developing a game engine that runs exclusively on the CPU, and I am currently optimizing it for speed. I was focusing on the per-pixel loop and currently have three similar functions which significantly differ in performance. One thing I should explain is the <code>exclusions</code> array. It&#39;s an array of <strong>number ranges</strong> where the first number is included and the last one isn&#39;t (i.e. [from..to&gt;). All the exclusions are sorted in the increasing order, none of them are overlapping. It tells me which pixels I should skip when rendering. </p> <h3>First function</h3> <p>So the first function has a somewhat naive approach, it&#39;s where I check each pixel if it is contained in the next exclusion range: ```rust pub fn render_stripe&lt;F&gt;( draw_bounds: Bounds, exclusions: &amp;[Bounds], column: &amp;mut [u8], mut frag: F, ) where F: FnMut(usize, &amp;mut [u8]), { let mut exclusions_iter = exclusions .iter() .skip_while(|bounds| bounds.top &lt;= draw_bounds.bottom); let mut current_exclusion = exclusions_iter.next();</p> <pre><code>let draw_from = draw_bounds.bottom as usize; let draw_to = draw_bounds.top as usize; let stripe = &amp;mut column[draw_from * 3..draw_to * 3]; let mut idx = draw_from; loop { if let Some(exclusion) = current_exclusion { if exclusion.contains(idx as u32) { idx = exclusion.top as usize; current_exclusion = exclusions_iter.next(); } } let i = idx - draw_from; let Some(pixel) = stripe.get_mut(i * 3..(i + 1) * 3) else { break; }; frag(i, pixel); idx += 1; } </code></pre> <p>} ``` The code works perfectly so you don&#39;t have to look for any bugs in the logic.</p> <h3>Second function</h3> <p>In the second function I tried optimizing by looping over each empty space between the exclusions (so no checks per pixel). It looks like this: ```rust pub fn render_stripe&lt;F&gt;( draw_bounds: Bounds, exclusions: &amp;[Bounds], column: &amp;mut [u8], mut frag: F, ) where F: FnMut(usize, &amp;mut [u8]), { let mut exclusions_iter = exclusions .iter() .skip_while(|bounds| bounds.top &lt;= draw_bounds.bottom).peekable(); let draw_from = draw_bounds.bottom as usize; let draw_to = draw_bounds.top; let mut from = if let Some(exc) = exclusions_iter.next_if(|exc| exc.contains(draw_from)) { exc.top } else { draw_from as u32 };</p> <pre><code>for exclusion in exclusions_iter { if exclusion.bottom &lt; draw_to { for i in from as usize..exclusion.bottom as usize { let Some(pixel) = column.get_mut(i * 3..(i + 1) * 3) else { break; }; frag(i - draw_from, pixel); } from = exclusion.top; if from &gt;= draw_to { return; } } else { for i in from as usize..draw_to as usize { let Some(pixel) = column.get_mut(i * 3..(i + 1) * 3) else { break; }; frag(i - draw_from, pixel); } return; } } if from &lt; draw_to { for i in from as usize..draw_to as usize { let Some(pixel) = column.get_mut(i * 3..(i + 1) * 3) else { break; }; frag(i - draw_from, pixel); } } </code></pre> <p>} ```</p> <h3>Third function</h3> <p>The third function is mostly made by ChatGPT, with some changes by me. It has an approach similar to the function above: ```rust pub fn render_stripe&lt;F&gt;( draw_bounds: Bounds, exclusions: &amp;[Bounds], column: &amp;mut [u8], mut frag: F, ) where F: FnMut(usize, &amp;mut [u8]), { let exclusions_iter = exclusions .iter() .skip_while(|bounds| bounds.top &lt;= draw_bounds.bottom).peekable(); let draw_to = draw_bounds.top as usize; let mut idx = draw_bounds.bottom as usize;</p> <pre><code>for exclusion in exclusions_iter { let ex_bot = exclusion.bottom as usize; let ex_top = exclusion.top as usize; while idx &lt; ex_bot &amp;&amp; idx &lt; draw_to { let Some(pixel) = column.get_mut(idx * 3..(idx + 1) * 3) else { break; }; frag(idx, pixel); idx += 1; } idx = ex_top; } while idx &lt; draw_to { let Some(pixel) = column.get_mut(idx * 3..(idx + 1) * 3) else { break; }; frag(idx, pixel); idx += 1; } </code></pre> <p>} ```</p> <p>The <code>column</code> array is of guaranteed length 3240 (1080 * 3 RGB), and I was running the game in FullHD (so 1920x1080).</p> <p>When the <code>frag()</code> function was most complex these were the results: - <code>first function</code> - <strong>31 FPS</strong>, - <code>second function</code> - <strong>21 FPS</strong>, - <code>third function</code> - <strong>36 FPS</strong>.</p> <p>When the <code>frag()</code> was much less complex, I increased the view resolution to 2320x1305, and these were the performances: - <code>first function</code> - <strong>40-41 FPS</strong>, - <code>second function</code> - <strong>42-43 FPS</strong>, - <code>third function</code> - <strong>42-43 FPS</strong>.</p> <p>Now I know that FPS isn&#39;t the best way to test performance, but still, some of these performance differences were huge. </p> <p>Then I used Criterion for benchmarking. I benchmarked this function for a single column (length 1080) where the <code>frag()</code> function was of minimal complexity, and the results were: - <code>first function</code> - <strong>700 ns</strong>, - <code>second function</code> - <strong>883 ns</strong>, - <code>third function</code> - <strong>1010 ns</strong>.</p> <p>I was using <code>black_box()</code>. Adding more exclusions to the exclusions array increases the speed of each function in the criterion benchmarks, but the order is still the same: <code>first function</code> is the fastest, then the <code>second function</code>, and the <code>third function</code> last.</p> <p>Again, each function gives perfect results so you don&#39;t have to look for any bugs in the logic.</p> <p>Since the <code>exclusions</code> array was mostly empty during in-game performance testing, I really don&#39;t understand why the performance decreased so drastically. Removing the exclusions for-loop in the <code>second function</code> made its performance similar (a bit higher) to the performance of the <code>third function</code>. Is the compiler doing some weird optimizations, or what?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Blaster011"> /u/Blaster011 </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n86u8d/big_performance_differences_between_3_similar/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n86u8d/big_performance_differences_between_3_similar/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n83ef7/media_made_this_tool_a_few_months_ago_because_i/" target="_blank">[Media] Made this tool a few months ago because I wanted to quickly commit and push changes from the terminal especially for dotfiles and now I use it a lot it's called syncgit</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p><a href="https://crates.io/crates/syncgit">https://crates.io/crates/syncgit</a> here&#39;s the link<br/> cargo install syncgit also works</p> <p>The code is available on github too</p> <p>Today I decided to upload two new versions fixing some UX/UI things so yeah that&#39;s why I&#39;m posting it here too lol</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/Jazzlike_Brick_6274"> /u/Jazzlike_Brick_6274 </a> <br/> <span><a href="https://i.redd.it/nlr9rmgil3nf1.png">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n83ef7/media_made_this_tool_a_few_months_ago_because_i/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n826xs/faster_rust_builds_on_mac/" target="_blank">Faster Rust builds on Mac</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/nnethercote"> /u/nnethercote </a> <br/> <span><a href="https://nnethercote.github.io/2025/09/04/faster-rust-builds-on-mac.html">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n826xs/faster_rust_builds_on_mac/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n81mki/envx_a_modern_environment_variable_manager_with/" target="_blank">envx - A modern environment variable manager with TUI, written in Rust</a>
            <div class="item-content"><!-- SC_OFF --><div class="md"><p>I&#39;ve been working on envx, a comprehensive environment variable manager that makes working with env vars actually enjoyable. After struggling with managing environment variables across different projects and environments, I decided to build a tool that addresses all the pain points I&#39;ve encountered.</p> <p>üöÄ Key Features:</p> <ul> <li>Beautiful TUI - Interactive terminal interface for browsing, searching, and editing env vars</li> <li>Dependency Tracking - Scan your codebase to find where env vars are used (supports 15+ languages)</li> <li>Smart Cleanup - Identify and remove unused environment variables safely</li> <li>Project Configuration - Define required vars, defaults, and validation rules in config.yaml</li> <li>Snapshots &amp; Profiles - Save and restore environment states instantly</li> <li>Watch Mode - Auto-sync between .env files and system variables</li> <li>Cross-platform - Works on Windows, macOS, and Linux</li> </ul> <p><strong>GitHub</strong>: <a href="https://github.com/mikeleppane/envx">https://github.com/mikeleppane/envx</a></p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/mikeleppane"> /u/mikeleppane </a> <br/> <span><a href="https://www.reddit.com/r/rust/comments/1n81mki/envx_a_modern_environment_variable_manager_with/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n81mki/envx_a_modern_environment_variable_manager_with/">[comments]</a></span></div>
          </li>
  
          <li>
            <a href="https://www.reddit.com/r/rust/comments/1n81j13/hayroll_translate_c_macros_to_rust/" target="_blank">Hayroll: translate C macros to Rust</a>
            <div class="item-content">&#32; submitted by &#32; <a href="https://www.reddit.com/user/mttd"> /u/mttd </a> <br/> <span><a href="https://github.com/UW-HARVEST/Hayroll">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/rust/comments/1n81j13/hayroll_translate_c_macros_to_rust/">[comments]</a></span></div>
          </li>
  
        </ul>
  
      </div>
  
      <div class="card">
        <h2>Movie Trailers</h2>
        <ul class="item-list">
  
          <li>
            <a href="http://www.filmjabber.com/movie-trailers/is-this-thing-on.html" target="_blank">Is This Thing On? Movie Trailer</a>
            
          </li>
  
          <li>
            <a href="http://www.filmjabber.com/movie-trailers/28-years-later-the-bone-temple.html" target="_blank">28 Years Later: The Bone Temple Movie Trailer</a>
            
          </li>
  
          <li>
            <a href="http://www.filmjabber.com/movie-trailers/wuthering-heights-emerald-fennell.html" target="_blank">Wuthering Heights Movie Trailer</a>
            
          </li>
  
        </ul>
      </div>
  
    </div>
  </body>
  </html>